<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ•°æ®ç±»å‹ä¸è½¬æ¢ | WolfBerry</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="WolfBerry's Blog">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.36601023.css" as="style"><link rel="preload" href="/Blog/assets/js/app.016d4085.js" as="script"><link rel="preload" href="/Blog/assets/js/2.d74931b6.js" as="script"><link rel="preload" href="/Blog/assets/js/19.a40c03a4.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.2b708c23.js"><link rel="prefetch" href="/Blog/assets/js/11.d9f69745.js"><link rel="prefetch" href="/Blog/assets/js/12.447fbed1.js"><link rel="prefetch" href="/Blog/assets/js/13.87e0cc47.js"><link rel="prefetch" href="/Blog/assets/js/14.2c480ce0.js"><link rel="prefetch" href="/Blog/assets/js/15.34399951.js"><link rel="prefetch" href="/Blog/assets/js/16.1b63852a.js"><link rel="prefetch" href="/Blog/assets/js/17.4890f811.js"><link rel="prefetch" href="/Blog/assets/js/18.20d3d5bb.js"><link rel="prefetch" href="/Blog/assets/js/20.d64df63e.js"><link rel="prefetch" href="/Blog/assets/js/21.ddfcec1d.js"><link rel="prefetch" href="/Blog/assets/js/22.89a3e579.js"><link rel="prefetch" href="/Blog/assets/js/23.40c0fba4.js"><link rel="prefetch" href="/Blog/assets/js/24.852e9391.js"><link rel="prefetch" href="/Blog/assets/js/25.232ff113.js"><link rel="prefetch" href="/Blog/assets/js/26.a0da44a8.js"><link rel="prefetch" href="/Blog/assets/js/27.3a998fda.js"><link rel="prefetch" href="/Blog/assets/js/28.502448e9.js"><link rel="prefetch" href="/Blog/assets/js/29.83cc2202.js"><link rel="prefetch" href="/Blog/assets/js/3.602c3d53.js"><link rel="prefetch" href="/Blog/assets/js/30.ebda2885.js"><link rel="prefetch" href="/Blog/assets/js/31.ff1d0f5b.js"><link rel="prefetch" href="/Blog/assets/js/4.3a2e020a.js"><link rel="prefetch" href="/Blog/assets/js/5.a3d1456f.js"><link rel="prefetch" href="/Blog/assets/js/6.29f93027.js"><link rel="prefetch" href="/Blog/assets/js/7.7aa15ea3.js"><link rel="prefetch" href="/Blog/assets/js/8.f8c39c3b.js"><link rel="prefetch" href="/Blog/assets/js/9.d9362e2a.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.36601023.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">WolfBerry</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/blog/" class="nav-link router-link-active">
  Blog
</a></div><div class="nav-item"><a href="/Blog/ugly/" class="nav-link">
  Ugly
</a></div><div class="nav-item"><a href="/Blog/diary/" class="nav-link">
  Diary
</a></div> <a href="https://github.com/Real102/Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/blog/" class="nav-link router-link-active">
  Blog
</a></div><div class="nav-item"><a href="/Blog/ugly/" class="nav-link">
  Ugly
</a></div><div class="nav-item"><a href="/Blog/diary/" class="nav-link">
  Diary
</a></div> <a href="https://github.com/Real102/Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>åšå®¢</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/blog/" aria-current="page" class="sidebar-link">ä»‹ç»</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/blog/html/meta.html" class="sidebar-link">å¸¸ç”¨çš„metaæ ‡ç­¾</a></li><li><a href="/Blog/blog/html/unicode.html" class="sidebar-link">å­—ç¬¦ç¼–ç </a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Javascript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/blog/javascript/get-image-size.html" class="sidebar-link">é™åˆ¶ä¸Šä¼ å›¾ç‰‡çš„å°ºå¯¸</a></li><li><a href="/Blog/blog/javascript/preload-image.html" class="sidebar-link">å›¾ç‰‡é¢„åŠ è½½</a></li><li><a href="/Blog/blog/javascript/lazyload.html" class="sidebar-link">å›¾ç‰‡æ‡’åŠ è½½çš„ä¸¤ç§å®ç°æ–¹å¼</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/blog/vue/img-in-vue.html" class="sidebar-link">åœ¨vueé¡¹ç›®ä¸­å¼•å…¥å›¾ç‰‡</a></li><li><a href="/Blog/blog/vue/vue-env.html" class="sidebar-link">vue ç¯å¢ƒå˜é‡çš„è®¾ç½®ä¸ä½¿ç”¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/blog/webpack/require-context.html" class="sidebar-link">require.context çš„å¦™ç”¨</a></li><li><a href="/Blog/blog/webpack/lodash.html" class="sidebar-link">lodash æŒ‰éœ€å¼•å…¥åŠæ‰“åŒ…ä¼˜åŒ–</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç§»åŠ¨ç«¯</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/blog/mobile/preview-on-mobile.html" class="sidebar-link">æ‰‹æœºç«¯é¢„è§ˆvueé¡¹ç›®</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>å…¶ä»–</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/blog/others/nvm.html" class="sidebar-link">ä½¿ç”¨ nvm æ¥ç®¡ç† npm</a></li><li><a href="/Blog/blog/others/vscode-for-web.html" class="sidebar-link">æ­å»º web ç‰ˆ vs code</a></li><li><a href="/Blog/blog/others/ws-in-vscode.html" class="sidebar-link">ç ”ç©¶vscodeä¸­çš„websocket</a></li><li><a href="/Blog/blog/others/format-phone.html" class="sidebar-link">æ‰‹æœºå·è¾“å…¥æ¡†çš„æ ¼å¼åŒ–æ˜¾ç¤º</a></li><li><a href="/Blog/blog/others/data-type.html" aria-current="page" class="active sidebar-link">æ•°æ®ç±»å‹ä¸è½¬æ¢</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/blog/others/data-type.html#å‰è¨€" class="sidebar-link">å‰è¨€</a></li><li class="sidebar-sub-header"><a href="/Blog/blog/others/data-type.html#buffer" class="sidebar-link">Buffer</a></li><li class="sidebar-sub-header"><a href="/Blog/blog/others/data-type.html#arraybuffer" class="sidebar-link">ArrayBuffer</a></li><li class="sidebar-sub-header"><a href="/Blog/blog/others/data-type.html#typedarray" class="sidebar-link">TypedArray</a></li><li class="sidebar-sub-header"><a href="/Blog/blog/others/data-type.html#blob" class="sidebar-link">Blob</a></li><li class="sidebar-sub-header"><a href="/Blog/blog/others/data-type.html#å‚è€ƒæ–‡æ¡£" class="sidebar-link">å‚è€ƒæ–‡æ¡£</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="æ•°æ®ç±»å‹ä¸è½¬æ¢"><a href="#æ•°æ®ç±»å‹ä¸è½¬æ¢" class="header-anchor">#</a> æ•°æ®ç±»å‹ä¸è½¬æ¢</h1> <h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <h3 id="buffer-ã€-arraybuffer-ã€-typedarray-ã€-blob"><a href="#buffer-ã€-arraybuffer-ã€-typedarray-ã€-blob" class="header-anchor">#</a> Buffer ã€ ArrayBuffer ã€ TypedArray ã€ Blob</h3> <ul><li><code>Buffer</code> æ˜¯ <code>node</code> ç¯å¢ƒä¸‹çš„ç¼“å†²å™¨ï¼Œç”¨äºè¡¨ç¤ºå›ºå®šé•¿åº¦çš„å­—èŠ‚åºåˆ—ï¼ˆ<code>Buffer.from() | Buffer.alloc()</code>ï¼‰ï¼Œå¯ç”¨ <code>toString()</code> æ–¹æ³•è½¬æˆå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç¼–ç æ ¼å¼</li> <li><code>ArrayBuffer</code> æ˜¯ <code>window</code> ç¯å¢ƒä¸‹çš„äºŒè¿›åˆ¶/å­—èŠ‚æ•°ç»„ï¼Œæ˜¯å¯¹å›ºå®šé•¿åº¦çš„è¿ç»­å†…å­˜ç©ºé—´çš„å¼•ç”¨ï¼ˆ<code>new ArrayBuffer(length)</code>ï¼‰ï¼Œå¯ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/TextDecoder" target="_blank" rel="noopener noreferrer">TextDecoder<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ğŸš€ æ„é€ å‡½æ•°è§£ææˆå­—ç¬¦ä¸²</li> <li><code>TypedArray</code> ç§°ä¸ºè§†å›¾ï¼ˆ<code>Uint8Arrayï¼ŒUint32Array</code>ï¼‰ï¼Œæ˜¯æ“ä½œ <code>ArrayBuffer</code> çš„ä¸»è¦é€”å¾„</li> <li><code>Blob</code> è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡ï¼Œå®ƒçš„æ•°æ®å¯ä»¥æŒ‰æ–‡æœ¬æˆ–äºŒè¿›åˆ¶çš„æ ¼å¼è¿›è¡Œè¯»å–ï¼Œä¹Ÿå¯ä»¥è½¬æ¢æˆ ReadableStream æ¥ç”¨äºæ•°æ®æ“ä½œã€‚å¯ä»¥é€šè¿‡ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader" target="_blank" rel="noopener noreferrer">FileReader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ğŸš€ è½¬æ¢æˆæŒ‡å®šæ ¼å¼</li></ul> <h2 id="buffer"><a href="#buffer" class="header-anchor">#</a> Buffer</h2> <p><strong>Buffer</strong> ä¹Ÿå«ç¼“å†²åŒºï¼Œç”¨äºè¡¨ç¤ºå›ºå®šé•¿åº¦çš„å­—èŠ‚åºåˆ—ï¼ŒåŒæ—¶å¾ˆå¤š node.js çš„ API éƒ½æ”¯æŒ <code>Buffer</code>ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>Buffer.alloc</code> åˆ›å»ºä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„å­—èŠ‚åºåˆ—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>Buffer.from</code> å°†å­—ç¬¦ä¸²æˆ– JSON æ•°æ®è½¬æ¢æˆå­—èŠ‚åºåˆ—</p> <h3 id="buffer-alloc-size-fill-encoding"><a href="#buffer-alloc-size-fill-encoding" class="header-anchor">#</a> Buffer.alloc(size, fill, encoding)</h3> <p><code>size</code>: åˆå§‹åŒ–çš„é•¿åº¦<br> <code>fill</code>: å¡«å……çš„æ•°æ®ï¼Œé»˜è®¤ä¸º 0ï¼Œå¯é€‰å‚æ•°<br> <code>encoding</code>: ç¼–ç æ ¼å¼ï¼Œé»˜è®¤æ˜¯ 'utf-8'ï¼Œå¯é€‰å‚æ•°</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 10ã€ä»¥é›¶å¡«å……çš„ Bufferã€‚</span>
<span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span>

<span class="token comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 10 çš„ Bufferï¼Œå…¶ä¸­å…¨éƒ¨å¡«å……äº†å€¼ä¸º `1` çš„å­—èŠ‚ã€‚</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 01 01 01 01 01 01 01 01 01 01&gt;</span>

<span class="token comment">// åˆ›å»ºä¸€ä¸ªåŒ…å« base64 æ ¼å¼çš„ Bufferï¼Œè°ƒç”¨ toString å¯ä»¥å‘ç°è½¬æ¢æˆäº†ï¼šhello world</span>
<span class="token keyword">const</span> buf3 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">&quot;aGVsbG8gd29ybGQ=&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;base64&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf3<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span>
<span class="token comment">// buf3.toString()   ==&gt;  hello world</span>
</code></pre></div><p>è¿™é‡Œéœ€è¦æ³¨æ„ <code>size</code> è¿™ä¸ªå‚æ•°ï¼Œå¦‚æœ <code>size</code> ä¸ç­‰äº <code>byteLength</code> (å³æ•°æ®é•¿åº¦ ğŸ‘©â€ğŸ«)ï¼Œä¼šå¯¼è‡´ <code>Buffer</code> çš„è£å‰ªæˆ–é‡å¤</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> buf4 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;aGVsbG8gd29ybGQ=&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;base64&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf4<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c&gt;</span>
<span class="token comment">// buf4.toString()   ==&gt;  hello worl</span>

<span class="token keyword">const</span> buf5 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&quot;aGVsbG8gd29ybGQ=&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;base64&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf5<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64 68 65 6c 6c&gt;</span>
<span class="token comment">// buf5.toString()   ==&gt;  hello worldhell</span>
</code></pre></div><h3 id="buffer-from"><a href="#buffer-from" class="header-anchor">#</a> Buffer.from()</h3> <p><code>Buffer.from()</code> æ ¹æ®è¾“å…¥çš„æ•°æ®ç±»å‹çš„ä¸åŒï¼Œä¸»è¦åˆ†ä¸ºä¸€ä¸‹å‡ ç§æƒ…å†µï¼š</p> <ul><li><strong>Buffer.from(arrayBuffer|buffer, byteOffset, length)</strong></li></ul> <p><code>arrayBuffer</code>: <code>arrayBuffer</code> æ ¼å¼æ•°æ®<br> <code>byteOffset</code>: å¼€å§‹æ‹·è´çš„ç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰ï¼Œé»˜è®¤å€¼ä¸º 0ï¼Œå¯é€‰å‚æ•°<br> <code>length</code>: æ‹·è´çš„å­—èŠ‚é•¿åº¦ï¼Œé»˜è®¤æ˜¯ <code>arrayBuffer.byteLength - byteOffset</code>ï¼Œå¯é€‰å‚æ•°</p> <p>å½“ç”¨æˆ·è¾“å…¥çš„æ˜¯ <code>arrayBuffer</code> æ—¶ï¼Œ<code>Buffer.from()</code> æ–¹æ³•æ‰§è¡Œçš„æ˜¯æ‹·è´çš„æ“ä½œï¼ˆæ³¨æ„è¿™é‡Œæ‰§è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œä¸ä¼šæ‹·è´åº•å±‚å†…å­˜ ğŸ‘©â€ğŸ«ï¼‰ï¼›å¦‚æœç”¨æˆ·è¾“å…¥çš„æ˜¯ <code>buffer</code> å°†æ‹·è´ <code>buffer</code> æ•°æ®åˆ°æ–°å»ºçš„ <code>buffer</code> å®ä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ArrayBuffer</span>
<span class="token keyword">let</span> ab <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>ab<span class="token punctuation">.</span>buffer<span class="token punctuation">)</span>
ab<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 0a 00 00 00 00 00 00 00 00 00&gt;</span>

<span class="token comment">// buffer</span>
<span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;buffer&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>buf1<span class="token punctuation">)</span>
buf1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0x61</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// auffer</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// buffer</span>
</code></pre></div><ul><li><strong>Buffer.from(object|string, offsetOrEncoding, length)</strong></li></ul> <p><code>object|string</code>: è¦ç¼–ç çš„å­—ç¬¦ä¸²<br> <code>offsetOrEncoding</code>: å­—èŠ‚åç§»é‡æˆ–å­—ç¬¦ç¼–ç ï¼Œå¦‚æœæ˜¯ stringï¼Œæ­¤å€¼ä¸ºç¼–ç æ ¼å¼<br> <code>length</code>: é•¿åº¦ï¼Œstring ä¸‹æ²¡æœ‰è¿™ä¸ªå‚æ•°</p> <p>å¦‚æœç”¨æˆ·è¾“å…¥çš„æ˜¯ <code>object</code> æ—¶ï¼Œ<code>Buffer.from()</code> æ–¹æ³•æ‰§è¡Œçš„æ˜¯ç¼–ç æ“ä½œï¼Œè½¬å˜æˆ <code>arrayBuffer</code> å¯¹è±¡</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> buf1 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;this is a tÃ©st&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> buf2 <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;7468697320697320612074c3a97374&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hex&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// this is a tÃ©st</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// this is a tÃ©st</span>
</code></pre></div><ul><li><strong>Buffer.from(array)</strong></li></ul> <p><code>array</code>: Array æ•°ç»„</p> <p>å½“ç”¨æˆ·è¾“å…¥çš„æ˜¯ <code>array</code> æ—¶ï¼Œ<code>Buffer.from()</code> ä¼šä½¿ç”¨ 0 â€“ 255 èŒƒå›´å†…çš„å­—èŠ‚æ•°ç»„ array æ¥åˆ†é…ä¸€ä¸ªæ–°çš„ Bufferï¼Œè¶…å‡ºè¯¥èŒƒå›´çš„æ•°ç»„æ¡ç›®ä¼šè¢«æˆªæ–­</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">254</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 01 fe ff 00 ff&gt;</span>
</code></pre></div><h3 id="buf-tostring-encoding-start-end"><a href="#buf-tostring-encoding-start-end" class="header-anchor">#</a> buf.toString(encoding, start, end)</h3> <p><code>encoding</code>: ç¼–ç æ ¼å¼ï¼Œé»˜è®¤å€¼ä¸º 'UTF-8'<br> <code>start</code>: å¼€å§‹è§£ç çš„å­—èŠ‚åç§»é‡ï¼Œé»˜è®¤å€¼ä¸º '0'<br> <code>end</code>: ç»“æŸè§£ç çš„å­—èŠ‚åç§»é‡ï¼Œé»˜è®¤å€¼: <code>buf.length</code>ã€‚</p> <p>è¿™é‡Œä¼šæ ¹æ®æŒ‡å®šçš„ç¼–ç æ ¼å¼å»è§£ç ï¼Œå¯ä»¥ä¼ å…¥ <code>start</code> å’Œ <code>end</code> å•ç‹¬è§£æ <code>buf</code> çš„å­é›†ã€‚å¦‚æœ <code>encoding</code> ä¸º <code>utf8</code>ï¼Œå¹¶ä¸”è¾“å…¥ä¸­çš„å­—èŠ‚åºåˆ— <strong>ä¸æ˜¯æœ‰æ•ˆçš„ UTF-8</strong>ï¼Œåˆ™æ¯ä¸ªæ— æ•ˆçš„å­—èŠ‚éƒ½ä¼šç”±æ›¿æ¢å­—ç¬¦ <code>U+FFFD</code> æ›¿æ¢ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// hello world</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">&quot;hex&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 68656c6c6f20776f726c64</span>
</code></pre></div><h3 id="buf-write-string-offset-length-encoding"><a href="#buf-write-string-offset-length-encoding" class="header-anchor">#</a> buf.write(string, offset, length, encoding)</h3> <p><code>string</code>: è¦å†™å…¥ buf çš„å­—ç¬¦ä¸²<br> <code>offset</code>: åç§»é‡ï¼Œé»˜è®¤å€¼: 0<br> <code>length</code>: è¦å†™å…¥çš„æœ€å¤§å­—èŠ‚æ•°ï¼Œé»˜è®¤å€¼: buf.length - offset<br> <code>encoding</code>: å­—ç¬¦ç¼–ç ï¼Œé»˜è®¤å€¼: 'utf8'</p> <p>å°†æŒ‡å®šçš„ç¼–ç æ ¼å¼æ•°æ®å†™å…¥åˆ° <code>buf</code> çš„æŒ‡å®šå¼€å§‹ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´ä¿å­˜æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™åªä¼šå†™å…¥å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">alloc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
buf<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;abcde&quot;</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 00 00 00 00 00 00 00 00 61 62&gt;</span>
</code></pre></div><h3 id="buf-index"><a href="#buf-index" class="header-anchor">#</a> buf[index]</h3> <p>é™¤äº† <code>buf.write</code> å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥ç”¨ä¸‹æ ‡çš„æ–¹å¼ <code>buf[index]</code> ï¼Œç›´æ¥è·å–æˆ–ä¿®æ”¹æŒ‡å®šä¸‹æ ‡çš„æ•°æ®</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span>
buf<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">69</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// Eello world</span>
</code></pre></div><h3 id="buf-readuint8-offset"><a href="#buf-readuint8-offset" class="header-anchor">#</a> buf.readUInt8(offset)</h3> <p><code>offset</code>: åç§»é‡</p> <p>ä» buf ä¸­æŒ‡å®šçš„ <code>offset</code> è¯»å– <strong>ä¸€ä¸ª</strong> æ— ç¬¦å·çš„ 8 ä½æ•´æ•°å€¼</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
<span class="token comment">// &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">readUInt8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 104</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">readUInt8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 101</span>
</code></pre></div><hr> <h2 id="arraybuffer"><a href="#arraybuffer" class="header-anchor">#</a> ArrayBuffer</h2> <p><code>ArrayBuffer</code> å¯¹è±¡ç”¨æ¥è¡¨ç¤ºé€šç”¨çš„ã€å›ºå®šé•¿åº¦çš„åŸå§‹äºŒè¿›åˆ¶æ•°æ®ç¼“å†²åŒºï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ (<code>byte array</code>)ï¼Œä½†ä¸æ•°ç»„ <code>array</code> æ²¡æœ‰ä»»ä½•å…±åŒä¹‹å¤„</p> <ul><li>å®ƒçš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œæˆ‘ä»¬æ— æ³•å¢åŠ æˆ–å‡å°‘å®ƒçš„é•¿åº¦</li> <li>å®ƒæ­£å¥½å ç”¨äº†å†…å­˜ä¸­çš„é‚£ä¹ˆå¤šç©ºé—´</li> <li>è¦è®¿é—®å•ä¸ªå­—èŠ‚ï¼Œéœ€è¦å¦ä¸€ä¸ªâ€œè§†å›¾â€å¯¹è±¡ï¼ˆ<code>TypedArray</code>ï¼‰ï¼Œè€Œä¸æ˜¯ buffer[index]</li></ul> <h2 id="typedarray"><a href="#typedarray" class="header-anchor">#</a> TypedArray</h2> <p><code>TypedArray</code> ç§°ä¸ºç±»å‹åŒ–æ•°ç»„ï¼Œç”¨äºæè¿° <code>ArrayBuffer</code> çš„ä¸€ä¸ªç±»æ•°ç»„è§†å›¾ï¼ˆ<code>Uint8Arrayã€Uint32Array</code>ï¼‰ï¼Œæ˜¯æ“ä½œ <code>ArrayBuffer</code> çš„ä¸»è¦é€”å¾„ã€‚ä½†äº‹å®ä¸Šï¼Œæ²¡æœ‰åä¸º <code>TypedArray</code> çš„å…¨å±€å±æ€§ï¼Œä¹Ÿæ²¡æœ‰ä¸€ä¸ªåä¸º <code>TypedArray</code> çš„æ„é€ å‡½æ•°ã€‚ä¸èƒ½ç›´æ¥è¿è¡Œ <code>new TypedArray()</code>ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>new Uint8Array()</code> ç›´æ¥åˆ›å»ºä¸€ä¸ªâ€œè§†å›¾â€ï¼Œç„¶åä¹Ÿå¯ä»¥ç”¨ <code>.buffer</code> æ¥è®¿é—® <code>ArrayBuffer</code>ã€‚è€Œ <code>Uint8Array</code> åªæ˜¯å…¶ä¸­çš„ä¸€ç§ <code>TypedArray</code> ç±»å‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment">// ArrayBuffer(10) {}</span>
<span class="token comment">// [[Int8Array]]: Int8Array(10) [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>
<span class="token comment">// [[Int16Array]]: Int16Array(5) [0, 0, 0, 0, 0]</span>
<span class="token comment">// [[Uint8Array]]: Uint8Array(10) [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>
<span class="token keyword">let</span> uint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span>
<span class="token comment">// åŒ let uint = new Uint8Array(10)</span>
<span class="token comment">// Uint8Array(10) [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>
</code></pre></div><h3 id="uint8array"><a href="#uint8array" class="header-anchor">#</a> Uint8Array</h3> <p><code>Uint8Array</code> è¡¨ç¤ºä¸€ä¸ª 8 ä½æ— ç¬¦å·çš„æ•´å‹æ•°ç»„ï¼Œåˆ›å»ºæ—¶å†…å®¹è¢«åˆå§‹åŒ–ä¸º 0ã€‚åˆ›å»ºå®Œåï¼Œå¯ä»¥ä»¥å¯¹è±¡çš„æ–¹å¼æˆ–ä½¿ç”¨æ•°ç»„ä¸‹æ ‡ç´¢å¼•çš„æ–¹å¼å¼•ç”¨æ•°ç»„ä¸­çš„å…ƒç´ ã€‚æ¯ä¸€é¡¹çš„æœ€å¤§æ•°å€¼ä¸º 255ï¼Œè¶…è¿‡ 255 ä¼šåªè¯»å³ 8 ä½çš„æ•°æ®ï¼ˆå¦‚ 256ï¼š100 000 000ï¼Œä½† Uint8Array åªæœ‰ 8 ä½ï¼Œä¸”ä»…å­˜å‚¨æœ€å³è¾¹ 8 ä½ï¼Œå…¶ä½™éƒ½è¢«åˆ‡é™¤ï¼Œæ•…ä¸º 0ï¼‰</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ç›´æ¥åˆ›å»º ArrayBuffer / TypedArray</span>
<span class="token keyword">let</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment">// ArrayBuffer(10) {}</span>
<span class="token comment">// [[Int8Array]]: Int8Array(10) [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>
<span class="token comment">// [[Int16Array]]: Int16Array(5) [0, 0, 0, 0, 0]</span>
<span class="token comment">// [[Uint8Array]]: Uint8Array(10) [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>
<span class="token keyword">let</span> buf1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment">// Uint8Array(10) [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>
buf1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment">// Uint8Array(10) [1, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>
buf1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">254</span>
<span class="token comment">// Uint8Array(10) [1, 254, 0, 0, 0, 0, 0, 0, 0, 0]</span>
buf1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span>
<span class="token comment">// Uint8Array(10) [1, 254, 255, 0, 0, 0, 0, 0, 0, 0]</span>
buf1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">257</span>
<span class="token comment">// Uint8Array(10) [1, 254, 255, 1, 0, 0, 0, 0, 0, 0]</span>

<span class="token comment">// é€šè¿‡ ArrayBuffer æ¥åˆ›å»º TypedArray</span>
<span class="token keyword">let</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 10 çš„ buffer</span>
<span class="token keyword">let</span> uint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span> <span class="token comment">// å°† buffer è§†ä¸ºä¸€ä¸ª 8 ä½æ— ç¬¦å·æ•´æ•°çš„åºåˆ—</span>
uint<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// æ‰‹åŠ¨ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªå€¼</span>
<span class="token comment">// uint :</span>
<span class="token comment">// Uint8Array(10) [1, 0, 0, 0, 0, 0, 0, 0, 0, 0]</span>
<span class="token comment">// buf :</span>
<span class="token comment">// ArrayBuffer(10) {}</span>
<span class="token comment">// [[Int8Array]]: Int8Array(10) [1, 0, 0, 0, 0, 0, 0, 0, 0, 0]...</span>
</code></pre></div><h4 id="uint8array-from"><a href="#uint8array-from" class="header-anchor">#</a> Uint8Array.from</h4> <p>ä»ä¸€ä¸ªæ•°ç»„æˆ–å¯è¿­ä»£çš„å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>Uint8Array</code> æ•°ç»„</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Uint8Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// Uint8Array(5) [1, 2, 3, 4, 5]</span>
</code></pre></div><h4 id="uint8array-of"><a href="#uint8array-of" class="header-anchor">#</a> Uint8Array.of</h4> <p>åˆ›å»ºä¸€ä¸ªå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°ç±»å‹æ•°ç»„</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Uint8Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0xa</span><span class="token punctuation">)</span>
<span class="token comment">// Uint8Array(5) [1, 2, 3, 4, 5, 10]</span>
</code></pre></div><h2 id="blob"><a href="#blob" class="header-anchor">#</a> Blob</h2> <p>Blob å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ã€åŸå§‹æ•°æ®çš„ç±»æ–‡ä»¶å¯¹è±¡ã€‚å¯ä»¥ç”¨æ„é€ å‡½æ•° <code>Blob</code> åˆ›å»ºä¸€ä¸ª <code>blob</code> å¯¹è±¡ï¼Œblob çš„å†…å®¹ç”±å‚æ•°æ•°ç»„ä¸­ç»™å‡ºçš„å€¼çš„ä¸²è”ç»„æˆã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Buffer.from('hello world') =&gt; &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0x68</span><span class="token punctuation">,</span> <span class="token number">0x65</span><span class="token punctuation">,</span> <span class="token number">0x6c</span><span class="token punctuation">,</span> <span class="token number">0x6c</span><span class="token punctuation">,</span> <span class="token number">0x6f</span><span class="token punctuation">,</span> <span class="token number">0x20</span><span class="token punctuation">,</span> <span class="token number">0x77</span><span class="token punctuation">,</span> <span class="token number">0x6f</span><span class="token punctuation">,</span> <span class="token number">0x72</span><span class="token punctuation">,</span> <span class="token number">0x6c</span><span class="token punctuation">,</span> <span class="token number">0x64</span><span class="token punctuation">]</span>
<span class="token comment">// å®šä¹‰ä¸€ä¸ªè§†å›¾å¯¹è±¡dataview</span>
<span class="token keyword">let</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token keyword">let</span> blob
<span class="token comment">// éå†å­˜å‚¨æ•°æ®</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	buf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> v
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// å®šä¹‰ä¸€ä¸ªblobå¯¹è±¡</span>
blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>buf<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// ä½¿ç”¨filereaderè¯»å–blobæ•°æ®</span>
<span class="token keyword">let</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
reader<span class="token punctuation">.</span><span class="token function">readAsText</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span>
reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">)</span> <span class="token comment">// hello world</span>
<span class="token punctuation">}</span>
</code></pre></div> <h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="header-anchor">#</a> å‚è€ƒæ–‡æ¡£</h2> <ul><li><a href="http://nodejs.cn/api/" target="_blank" rel="noopener noreferrer">nodeJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ğŸš€</li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noopener noreferrer">ArrayBuffer MDN æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ğŸš€</li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noopener noreferrer">TypedArray MDN æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ğŸš€</li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Blob" target="_blank" rel="noopener noreferrer">Blob MDN æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ğŸš€</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Real102/Blog/edit/master/docs/blog/others/data-type.md" target="_blank" rel="noopener noreferrer">Edit in GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/27/2021, 5:35:33 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/Blog/blog/others/format-phone.html" class="prev">
        æ‰‹æœºå·è¾“å…¥æ¡†çš„æ ¼å¼åŒ–æ˜¾ç¤º
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Blog/assets/js/app.016d4085.js" defer></script><script src="/Blog/assets/js/2.d74931b6.js" defer></script><script src="/Blog/assets/js/19.a40c03a4.js" defer></script>
  </body>
</html>
