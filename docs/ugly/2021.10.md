# ç¬”è®°

## 2021 å¹´ 10 æœˆ 1 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 2 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 3 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 4 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 5 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 6 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 7 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 8 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 9 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 10 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 11 æ—¥

### changeOrigin

`proxy` ä»£ç†çš„é€‰é¡¹ä¹‹ä¸€ï¼Œé»˜è®¤å€¼ä¸º `false`ï¼Œä¼šä¿ç•™ä¸»æœºå¤´çš„æ¥æºã€‚å³åç«¯è·å–åˆ°æ¥å£è¯·æ±‚å¤´ä¸­çš„ `host` å€¼å³ä¸º `devServer` ä¸‹ `host` çš„å€¼

![changeOrigin-false](../.vuepress/public/img/changeOrigin-false.png "changeOrigin-false")

è‹¥è®¾ç½®ä¸º `true`ï¼Œåˆ™ `host` å€¼ä¸º `proxy` ä¸‹ `target` çš„å€¼

![changeOrigin-true](../.vuepress/public/img/changeOrigin-true.png "changeOrigin-true")

å› æ­¤ï¼ˆ<span style="color: rgb(192, 52, 29)">**çŒœæµ‹**</span>ï¼‰å¯ä»¥è®¾ç½® `changeOrigin` ä¸º `true`ï¼Œç»•è¿‡åç«¯çš„ `host` æ£€æŸ¥

## 2021 å¹´ 10 æœˆ 12 æ—¥

### Git Hook

åœ¨æäº¤ä»£ç åˆ° `gitlab` æ—¶ï¼Œå¢åŠ ä¸€å±‚ `hook` é™åˆ¶

`vue-cli` åˆ›å»ºçš„é¡¹ç›®ä¼šè‡ªåŠ¨å®‰è£… `yorkie`ï¼ˆ`fork` è‡ª `husky`ï¼Œä½†ä¸åè€…ä¸å…¼å®¹ï¼‰æ­é… `lint-staged` å³å¯å®ç°åœ¨ `git add` æ—¶å…ˆ `run lint`ï¼ˆ<span style="font-size:10px;color: rgb(192, 52, 29)">å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒä»£ç ç»™äººæä¹±äº†</span> ğŸ˜ï¼‰

```json
{
  "gitHooks": {
    "pre-commit": "lint-staged"
  },
  "lint-staged": {
    "*.{js,vue}": ["vue-cli-service lint", "git add"]
  }
}
```

æ³¨æ„ï¼š`lint-staged` éœ€è¦ `node12.13.0+` çš„ç‰ˆæœ¬æ‰èƒ½æ­£å¸¸ä½¿ç”¨

## 2021 å¹´ 10 æœˆ 13 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 14 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 15 æ—¥

### .env ç¯å¢ƒå˜é‡æ–‡ä»¶

ä¸»è¦æœ‰`.env`ã€`.env.[env]`ã€`.env.[env].local` ä¸‰ç§ç±»å‹æ–‡ä»¶ï¼ˆ`[env]` æŒ‡å„ç§ç¯å¢ƒï¼‰ï¼Œä¼˜å…ˆçº§ä»å·¦åˆ°å³é€’å¢ï¼Œå…¶ä¸­ `.env.[env].local` åªåœ¨æœ¬åœ°ç”Ÿæ•ˆå¹¶ä¸”ä¸€èˆ¬ä¸æäº¤åˆ° `gitlab`ï¼Œå¸¸ç”¨äºå¤šäººåˆä½œå¼€å‘æ—¶éƒ¨ç½²è‡ªå·±çš„è”è°ƒç¯å¢ƒ

ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­ï¼Œåªæœ‰ `NODE_ENV`, `BASE_URL` å’Œä»¥ `VUE_APP_` å¼€å¤´çš„å˜é‡èƒ½é€šè¿‡ webpack.DefinePlugin é™æ€åœ°åµŒå…¥åˆ°ä»£ç ä¸­

## 2021 å¹´ 10 æœˆ 16 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 17 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 10 æœˆ 18 æ—¥

\------------------------------------------------------

å¤§è‡´è¿‡å®Œä¸€é vue-cli4 å®˜æ–¹æ–‡æ¡£...  
ç¨å¾®ç†Ÿæ‚‰äº†å…¶ä¸­çš„é…ç½®...  
ä½†æ‰‹å†™ chainWebpack è¿˜æ˜¯æœ‰ç‚¹å›°éš¾...  
å¸¸ç”¨çš„æ’ä»¶ä¹Ÿæš‚æ—¶æ²¡çœ‹...  
ç•™ç€è¿‡ webpack çš„æ—¶å€™å†çœ‹å§...  
è¿™ä¸ªæœˆå¥½åƒæ–­æ¡£çš„æœ‰ç‚¹å¤š...  
å¾—åŠªåŠ›äº†...  
hope...
ç¥ˆã£ã¦ã„ã‚‹...
ğŸ™ğŸ™ğŸ™

## 2021 å¹´ 10 æœˆ 19 æ—¥

### ä» 0 å¼€å§‹æ webpack

éœ€è¦é€‰å®šä¸€ä¸ªå…¥å£æ–‡ä»¶ä½œä¸ºå†…éƒ¨ä¾èµ–å…³ç³»å›¾çš„â€œå¼€å§‹â€ï¼Œé»˜è®¤è¾“å…¥è·¯å¾„ä¸º `/dist`ï¼›æ‰€æœ‰éœ€è¦ä½¿ç”¨åˆ°çš„æ–‡ä»¶éƒ½éœ€è¦åœ¨å…¥å£æ–‡ä»¶ä¸­å¼•ç”¨

å„ç§å¸¸è§ç±»å‹æ–‡ä»¶å¯¹åº”å¤„ç† loaderï¼š

| æ–‡ä»¶ç±»å‹                     | å¯¹åº” loader               |
| ---------------------------- | ------------------------- |
| js                           | default                   |
| css                          | style-loaderã€css-loader  |
| scss                         | node-sassã€sass-loader    |
| less                         | less-loader               |
| png \| jpg \| gif \| svg     | file-loader \| url-loader |
| ttf \| woff(2) \| otf \| eot | file-loader               |

- å¤„ç† `css` çš„ `loader` é¡ºåºä¸ºï¼š`css-loader` -> `style-loader`
- å¤„ç† `scss` æ–‡ä»¶éœ€è¦ä½¿ç”¨ `sass-loader`ï¼Œå‰ææ˜¯éœ€è¦å®‰è£… `node-sass` ä¾èµ–
- è‹¥è¦å°†å° `icon` è½¬æ¢æˆ `base64`ï¼Œéœ€è¦ç”¨åˆ° `url-loader`
- `url-loader` å’Œ `file-loader` åªéœ€è¦ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªå³å¯å¤„ç†å›¾ç‰‡æ–‡ä»¶

### html-webpack-plugin

é»˜è®¤æƒ…å†µä¸‹ htmlwebpackplugin ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª HTML æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰é€‰å®š template æ–‡ä»¶

```javascript
plugins: {
  new htmlwebpackplugin({
    title: "æµ‹è¯•title",
    filename: "index.html",
    template: path.resolve(__dianame, "realpath/template.html")
  })
}
```

æŒ‡å®š `template` æ–‡ä»¶åï¼Œ`htmlwebpackplugin` ä¼šè‡ªåŠ¨æ³¨å…¥ç›¸å…³çš„ cssã€js æ–‡ä»¶ç­‰

å¦‚ä¸Šï¼ŒæŒ‡å®š `template` ä¸”è®¾ç½®äº† title å‚æ•°åï¼Œå¦‚æœ `template` æ–‡ä»¶ä¸­å·²ç»è®¾ç½®äº†æ ‡é¢˜ï¼Œé‚£ä¹ˆ title å°†ä¸ç”Ÿæ•ˆï¼Œéœ€è¦é€šè¿‡ `<%= htmlWebpackPlugin.options.title %>` è·å–åˆ°é…ç½®ä¸­çš„ title å‚æ•°

å¦‚æœéœ€è¦æŒ‡å®šå¤šå…¥å£æ–‡ä»¶ï¼š

éœ€è¦ `new` å¤šå‡ ä¸ª `htmlwebpackplugin` å¯¹è±¡ï¼ŒåŒæ—¶ä¿®æ”¹ `entry` å’Œ `output` å‚æ•°

- æ›´å¤šç›¸å…³ api è¯·æŸ¥é˜…ï¼š[html-webpack-plugin ğŸš€](https://github.com/jantimon/html-webpack-plugin#options)

### clean-webpack-plugin

æ¯æ¬¡æ„å»ºé¡¹ç›®ä¹‹å‰æ¸…ç† /dist æ–‡ä»¶å¤¹

ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ï¼š

```javascript
// webpack.config.js
// const CleanWebpackPlugin  = require('clean-webpack-plugin') é”™è¯¯
const { CleanWebpackPlugin } = require('clean-webpack-plugin')

plugins: [
  new CleanWebpackPlugin()
],

```

**Otherwise**ï¼šå¯ä»¥å€ŸåŠ© `node.js` çš„ `file` æ¨¡å—è¿›è¡Œæ–‡ä»¶å¤¹åˆ é™¤

**æ€è€ƒ**ï¼šnew CleanWebpackPlugin() æ”¾ç½®çš„ä½ç½®ä¼šä¸ä¼šå½±å“åˆ°æœ€ç»ˆçš„æ•ˆæœï¼Ÿ

- æ›´å¤šç›¸å…³é…ç½®å¯æŸ¥é˜…ï¼š[clean-webpack-plugin ğŸš€](https://github.com/johnagan/clean-webpack-plugin#usage)

## 2021 å¹´ 10 æœˆ 20 æ—¥

### source-map

å°†ç¼–è¯‘åçš„ä»£ç æ˜ å°„å›æºä»£ç ï¼Œç”¨äºå¼€å‘ç¯å¢ƒ

ç›¸å…³ source-map ç±»å‹åŠå¯¹åº”æ‰“åŒ…é€Ÿåº¦å¦‚ä¸‹ï¼š

> `+++` éå¸¸å¿«é€Ÿ, `++` å¿«é€Ÿ, `+` æ¯”è¾ƒå¿«, `o` ä¸­ç­‰, `-` æ¯”è¾ƒæ…¢, `--` æ…¢

| devtool                        | æ„å»ºé€Ÿåº¦ | é‡æ„é€Ÿåº¦ | ç”Ÿäº§ç¯å¢ƒ | å“è´¨ï¼ˆqualityï¼‰        |
| ------------------------------ | -------- | -------- | -------- | ---------------------- |
| none                           | +++      | +++      | yes      | æ‰“åŒ…åçš„ä»£ç            |
| eval                           | +++      | +++      | no       | ç”Ÿæˆåçš„ä»£ç            |
| cheap-eval-source-map          | +        | ++       | no       | è½¬æ¢è¿‡çš„ä»£ç ï¼ˆä»…é™è¡Œï¼‰ |
| cheap-module-eval-source-map   | o        | ++       | no       | åŸå§‹æºä»£ç ï¼ˆä»…é™è¡Œï¼‰   |
| eval-source-map                | --       | +        | no       | åŸå§‹æºä»£ç              |
| cheap-source-map               | +        | o        | yes      | è½¬æ¢è¿‡çš„ä»£ç ï¼ˆä»…é™è¡Œï¼‰ |
| cheap-module-source-map        | o        | -        | yes      | åŸå§‹æºä»£ç ï¼ˆä»…é™è¡Œï¼‰   |
| inline-cheap-source-map        | +        | o        | no       | è½¬æ¢è¿‡çš„ä»£ç ï¼ˆä»…é™è¡Œï¼‰ |
| inline-cheap-module-source-map | o        | -        | no       | åŸå§‹æºä»£ç ï¼ˆä»…é™è¡Œï¼‰   |
| source-map                     | --       | --       | yes      | åŸå§‹æºä»£ç              |
| inline-source-map              | --       | --       | no       | åŸå§‹æºä»£ç              |
| hidden-source-map              | --       | --       | yes      | åŸå§‹æºä»£ç              |
| nosources-source-map           | --       | --       | yes      | æ— æºä»£ç å†…å®¹           |

- ç›¸å…³ä½¿ç”¨åœºæ™¯å¯å‚è€ƒï¼š[devtool ğŸš€](https://v4.webpack.docschina.org/configuration/devtool#%E5%AF%B9%E4%BA%8E%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83)
- ç›¸å…³æµ‹è¯•æ•ˆæœç”¨ä¾‹ï¼š[source-map ğŸš€](https://github.com/webpack/webpack/tree/main/examples/source-map)
