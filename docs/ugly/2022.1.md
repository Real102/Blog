# 笔记

## 2022 年 1 月 1 日

### linux 命令小记

- `sudo su - xxx` 切换账号
- `vi` 编辑器输入 `i` 进入编辑状态，`esc` 回退到命令状态，`wq` 保存

## 2022 年 1 月 2 日

缺席...

## 2022 年 1 月 3 日

缺席...

## 2022 年 1 月 4 日

### 浏览器 tools

- `Coverage`：可以查看当前页面引入的 `css`、`js` 文件的使用率和使用情况
- `Animations`：可以捕获页面中的所有动画，同时还可以控制动画速度等
- `Network request blocking`：可以用于阻止某些资源的请求
- `Replay XHR`：此为功能，右键点击 `XHR` 可以重新发起请求
- `请求的发起者或依赖项`：按住 `Shift` 并将鼠标悬停在请求上，启动器着色为**绿色**，将依赖项着色为**红色**
- `Sensors`：传感器，可以设置地理位置、模拟设备方向等，用于移动端测试

## 2022 年 1 月 5 日

### 原生 css 自定义属性（变量）

可以用 `--` 声明一个 `css` 自定义属性，即变量，与 `less/scss` 中的变量一样，只是使用方式略有不同

需要注意，规则集所指定的选择器定义了自定义属性的可见作用域。通常定义在根伪类 `:root` 下，这样就可以全局访问

> 注意：自定义属性名是大小写敏感的，`--my-color` 和 `--My-color` 会被认为是两个不同的属性

```css
/* 指定选择器 */
element {
  --main-bg-color: brown;
}

/* 全局 */
:root {
  --main-bg-color: brown;
}
```

`MDN` 文档：<https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_custom_properties>

## 2022 年 1 月 6 日

### ResizeObserver

> 这是一个实验中的属性，在未来版本的浏览器中该功能的语法和行为可能随之改变

触发条件：

- 当 `element` 插入或者移除时触发
- 当 `element` 的 `display` 从 `block` 设变为 `none` 时或相反过程时触发（指显示 -> 隐藏）
- 当 `element` 正在被渲染，并且大小不为 `0, 0`

方法：

- `ResizeObserver.observe`：开始观察指定的 `element` 或 `SVGElement`
- `ResizeObserver.unobserve`：结束观察
- `ResizeObserver.disconnect`：取消和结束目标对象上所有的观察

<!-- TODO: 兼容性、与resize对比的优势、用法展示 -->

参考文档：<https://drafts.csswg.org/resize-observer/#resize-observer-interface>
兼容性参考：<https://caniuse.com/?search=ResizeObserver>

## 2022 年 1 月 7 日

### 创建一个包含 1-N 的数组

```javascript
Array.from(Array(10).keys())

[...Array(10).keys()]

Array(N).fill().map((_, i) => i+1);

Array.from({length: 10}, (_, i) => i + 1)

[...Array(N+1).keys()].slice(1)

Array.apply(null, { length: N }).map(Number.call, Number)
```

为什么要使用麻烦的 `Array.apply(null, {length: N})`，而不是 `Array(N)` ？毕竟，这两个表达式都会产生一个包含未定义元素的 `N` 元素数组。

区别在于，在前一个表达式中，每个元素都显式设置为 `undefined`，而在后者中，每个元素都从未设置过。

> `callback` 仅对已分配值的数组索引调用；不会为已删除或从未分配值的索引调用它。

<!-- Array(10)
(10) [empty × 10] -->

参考文档：<https://stackoverflow.com/questions/3746725/create-a-javascript-array-containing-1-n>
