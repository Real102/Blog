# ç¬”è®°

## 2021 å¹´ 9 æœˆ 1 æ—¥

### this.\$options

ç”¨äºå½“å‰ Vue å®ä¾‹çš„åˆå§‹åŒ–é€‰é¡¹ï¼Œç›¸å½“äºå®ä¾‹çš„æ‰€æœ‰é€‰é¡¹ä¸­çš„æ‰€æœ‰åˆå§‹æ•°æ®éƒ½ä¿å­˜äº†ä¸€ä¸ªå¿«ç…§ï¼ŒåŒ…æ‹¬ `data`ã€`methods` ç­‰

å°æŠ€å·§ï¼šåœ¨è¡¨å•æäº¤é¡µä¸­ï¼Œåˆå§‹åŒ–è¡¨å•æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ `this.$options.data().formData` è·å–åˆ°åˆå§‹å€¼å†èµ‹å€¼

## 2021 å¹´ 9 æœˆ 2 æ—¥

### openerã€referrer

`opener`ï¼šè¿”å›æ‰“å¼€å½“å‰çª—å£çš„é‚£ä¸ªçª—å£çš„å¼•ç”¨ï¼Œé»˜è®¤éœ€è¦è®¾ç½®ä¸º `null`ï¼Œå¦åˆ™å¯ä»¥è·å–åŸé¡µé¢ `window` çš„â€œæ§åˆ¶æƒâ€

`referrer`ï¼šè¿”å›ä¸€ä¸ª `URL`ï¼Œä»£è¡¨å½“å‰é¡µé¢æ˜¯ä»è¿™ä¸ª `URL` é¡µé¢è·³è½¬æˆ–æ‰“å¼€çš„ï¼ˆæ³¨æ„åŒºåˆ† `HTML` çš„ `referrer` å’Œ `Http` è¯·æ±‚å¤´çš„ `referrer`ï¼‰

Tipsï¼š
`HTML` çš„ `referrer` æœ‰ä»¥ä¸‹å‡ ç§ç­–ç•¥ï¼š[no-referrer|no-referrer-when-downgrade|origin|origin-when-downgrade|strict-origin-when-cross-origin|unsafe-url ğŸš€](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a)

`Http` çš„ `referrer` å¯ä»¥æ‰‹åŠ¨è®¾ç½®

## 2021 å¹´ 9 æœˆ 3 æ—¥

### storage äº‹ä»¶

å¯¹ `storage` å¯¹è±¡è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œéƒ½ä¼šåœ¨æ–‡æ¡£ä¸Šè§¦å‘ `storage` äº‹ä»¶ï¼ŒåŒ…æ‹¬ï¼š`getItem`ã€`setItem`ã€`clear`ã€`delete`

`storage` äº‹ä»¶æ•´ä½“å…¼å®¹æ€§è¾ƒå¥½ï¼Œä½† `Safari` æµè§ˆå™¨è¾ƒå·®ï¼Œéƒ¨åˆ†åŠŸèƒ½ `api` å®Œå…¨ä¸æ”¯æŒ

[storage å…¼å®¹æ€§ ğŸš€](https://caniuse.com/?search=storage)

### progress

`filereader` çš„ `progress` äº‹ä»¶çº¦ `50ms` è§¦å‘ä¸€æ¬¡

## 2021 å¹´ 9 æœˆ 4 æ—¥

### document.hidden

è¡¨ç¤ºé¡µé¢æ˜¯å¦éšè—çš„å±æ€§ï¼ŒåŸºæœ¬å…¼å®¹ä¸»æµæµè§ˆå™¨ï¼ˆä½ç‰ˆæœ¬é™¤å¤–ï¼‰ã€‚å½“æ–‡æ¡£å¯è§æ€§å‘ç”Ÿæ”¹å˜æ—¶ä¼šè§¦å‘ `visibilitychange` äº‹ä»¶ï¼ˆ`Safari` å…¼å®¹æ€§æœªçŸ¥ï¼Œéœ€è¦åŠ å‰ç¼€ï¼‰

ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„æ£€æµ‹ `api` çš„å…¼å®¹æ€§

ä¾‹: åˆ‡æ¢æ ‡ç­¾é¡µæ—¶ï¼Œæ›´æ”¹åŸæ ‡ç­¾é¡µçš„æ ‡é¢˜

[document.hidden å…¼å®¹æ€§ ğŸš€](https://caniuse.com/?search=document.hidden)  
[visibilitychange å…¼å®¹æ€§ ğŸš€](https://caniuse.com/?search=visibilitychange)

## 2021 å¹´ 9 æœˆ 5 æ—¥

## indexedDB

æµè§ˆå™¨ä¸­ä¿å­˜ç»“æ„åŒ–æ•°æ®çš„ä¸€ç§æ•°æ®åº“ï¼Œæ“ä½œå®Œå…¨æ˜¯å¼‚æ­¥è¿›è¡Œçš„ï¼Œå› æ­¤éƒ½éœ€è¦æ³¨å†Œäº‹ä»¶ç›‘å¬ï¼ˆ`onsuccess`ã€`onerror`ï¼‰

`indexedDB` çš„æ€æƒ³æ˜¯åˆ›å»ºä¸€å¥— `api`ï¼Œæ–¹ä¾¿ä¿å­˜å’Œè¯»å– **`JavaScript` å¯¹è±¡**ï¼ŒåŒæ—¶è¿˜æ”¯æŒæŸ¥è¯¢å’Œæœç´¢

å…¼å®¹æ€§ï¼šéœ€è¦æä¾›æµè§ˆå™¨å†…æ ¸å‰ç¼€ `indexedDB`| `msIndexedDB` | `webkitIndexedDB`| `mozIndexedDB`

## 2021 å¹´ 9 æœˆ 6 æ—¥

### æ€§èƒ½ä¼˜åŒ–

1. æ³¨æ„ä½œç”¨åŸŸï¼šé¿å…å…¨å±€æŸ¥æ‰¾ï¼›é¿å… `with` è¯­å¥ï¼ˆä¼šåˆ›å»ºå†…éƒ¨çš„ä½œç”¨åŸŸï¼‰
2. é€‰æ‹©æ­£ç¡®çš„æ–¹æ³•ï¼šé¿å…ä¸å¿…è¦çš„å±æ€§æŸ¥æ‰¾ï¼›ä¼˜åŒ–å¾ªç¯ï¼›å±•å¼€å¾ªç¯ï¼›é¿å…åŒé‡è§£é‡Š
3. æœ€å°åŒ–è¯­å¥æ•°ï¼šå¤šä¸ªå˜é‡å£°æ˜ï¼›æ’å…¥è¿­ä»£å€¼ï¼›ä½¿ç”¨æ•°ç»„å’Œå¯¹è±¡å­—é¢é‡
4. ä¼˜åŒ– `DOM` äº¤äº’ï¼šæœ€å°åŒ–ç°åœºæ›´æ–°ï¼›ä½¿ç”¨ `innerHTML`ï¼›ä½¿ç”¨äº‹ä»¶ä»£ç†ï¼›æœ€å°åŒ–è®¿é—® `HTMLCollection`

### æ—¶é—´å¤æ‚åº¦ O

| æ ‡è®°     | åç§° | æè¿°                                                           |
| -------- | ---- | -------------------------------------------------------------- |
| O(1)     | å¸¸æ•° | æ‰§è¡Œæ—¶é—´æ’å®šï¼Œä¸€èˆ¬è¡¨ç¤ºç®€å•å€¼å’Œå­˜å‚¨åœ¨å˜é‡ä¸­çš„å€¼                 |
| O(n)     | çº¿æ€§ | ä¸å€¼çš„æ•°é‡ç›´æ¥ç›¸å…³ï¼Œä¾‹ï¼šéå†æ•°ç»„çš„æ‰€æœ‰å…ƒç´                      |
| O(log n) | å¯¹æ•° | ä¸å€¼å¾—æ•°é‡ç›¸å…³ï¼Œä½†æ˜¯è¦å®Œæˆç®—æ³•ä¸ä¸€å®šè¦è·å–æ¯ä¸ªå€¼ï¼Œä¾‹ï¼šäºŒåˆ†æŸ¥æ‰¾ |
| O(n2)    | æŒ‡æ•° | ä¸å€¼å¾—æ•°é‡ç›¸å…³ï¼Œæ¯ä¸ªå€¼è‡³å°‘æ‰§è¡Œ n æ¬¡ï¼Œä¾‹ï¼šæ’å…¥æ’åº              |

1. ä½¿ç”¨å˜é‡å’Œæ•°ç»„æ¯”è®¿é—®å¯¹è±¡ä¸Šçš„å±æ€§æ›´é«˜æ•ˆï¼Œä¸º `O(n)`ã€‚ï¼ˆéœ€è¦æ‰§è¡Œä¸€æ¬¡æœç´¢ï¼ŒåŒ…æ‹¬åŸå‹é“¾ï¼‰

## 2021 å¹´ 9 æœˆ 7 æ—¥

### Chrome debugger

1. è°ƒè¯• `vue` é¡¹ç›®æ—¶ï¼Œéœ€è¦å¼€å¯ `devtoolï¼šsource-map`
2. é…ç½® `launch.json` æ–‡ä»¶ï¼Œå‚è€ƒå¦‚ä¸‹
3. æ‰“æ–­ç‚¹ï¼Œå¯åŠ¨é¡¹ç›®

tipsï¼šè‹¥æ–­ç‚¹ä¸ºç°è‰²ç©ºå¿ƒåœ†åœˆï¼Œéœ€è¦æ£€æŸ¥ä¸€ä¸‹ `source-map` æ˜¯å¦å¼€å¯ï¼›è‹¥ä¸ºçº¢å®å¿ƒåœ†åœˆï¼Œåˆ™å¯ä»¥æ­£å¸¸ `debug`

TODO: å…¶ä»–è°ƒè¯•æ–¹æ¡ˆï¼Ÿæœ‰æ²¡æœ‰æ›´å¥½ç©çš„ç©æ³•ï¼Ÿ

```json
// ç‚¹å‡»è°ƒè¯•é¡¶éƒ¨å·¥å…·æ çš„â€œé½¿è½®â€æŒ‰é’®ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸²jsonï¼Œç„¶åå†ä¿®æ”¹ä¸ºé¡¹ç›®é€‚ç”¨çš„é…ç½®å³å¯
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "chrome",
      "request": "launch",
      "name": "è¿è¡Œå½“å‰é¡¹ç›®",
      "url": "http://localhost:8080",
      "webRoot": "${workspaceFolder}/src",
      "breakOnLoad": true,
      "sourceMapPathOverrides": {
        "webpack:///src/*": "${webRoot}/*"
      }
    }
  ]
}
```

## 2021 å¹´ 9 æœˆ 8 æ—¥

### web Worker

- `worker` æ¶ˆæ¯å†…å®¹å¯ä»¥æ˜¯ä»»ä½•èƒ½è¢«åºåˆ—åŒ–çš„å€¼
- `worker` åœ¨ä¸èƒ½å®Œæˆæ—¢å®šçš„ä»»åŠ¡æ—¶ä¼šè§¦å‘ `error` äº‹ä»¶ï¼Œå³åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°äº†ä»»ä½•é”™è¯¯éƒ½ä¼šè§¦å‘ `error` äº‹ä»¶ã€‚åŒ…å«ä¸‰ä¸ªå±æ€§ï¼šå‘ç”Ÿé”™è¯¯çš„æ–‡ä»¶å `filename`ã€ä»£ç è¡Œå· `lineno`ã€å®Œæ•´çš„é”™è¯¯ä¿¡æ¯ `message`
- `worker` å†…éƒ¨çš„é¡¶å±‚å¯¹è±¡æ˜¯ `worker` æœ¬èº«ï¼Œè€Œé `window` å¯¹è±¡ï¼Œå¹¶ä¸” `worker` å†…éƒ¨ä¸èƒ½å¯¹ `DOM` æ‰§è¡Œä»»ä½•æ“ä½œ
- `importScript('file1.js', 'file2.js')` æ–¹æ³•å¼•å…¥å¤–éƒ¨ js æ–‡ä»¶ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯å¼‚æ­¥åŠ è½½ï¼Œå¹¶ä¸”æ˜¯é¡ºåºæ‰§è¡Œ

TODO: åº”ç”¨åœºæ™¯ï¼šæ–‡ä»¶ä¸Šä¼ ã€åŠ è§£å¯†æµç¨‹

```javascript
const worker = new Worker("worker.js")
worker.postMessage({ type: "des", message: "start" })
worker.terminate() // ç«‹å³åœæ­¢workerçš„å·¥ä½œ

// worker.js
self.onmessage = e => {
  const { data } = e
}

self.onerror = err => {
  console.log(err.filename + err.lineno + err.message)
}
```

### geolocation

- è·å–ç”¨æˆ·çš„åœ°ç†ä½ç½®ï¼Œç”¨æ³•æš‚æ—¶è¿˜æ²¡æ‘¸é€...å‡†ç¡®æ€§ä¹ŸæœªçŸ¥...
- å¾—åˆ°çš„æ•°æ®æ˜¯ç»çº¬åº¦ï¼Œè¿™ä¸ªæ–¹æ³•è²Œä¼¼å®¹æ˜“å´©æºƒ...
- å¦‚æœè¦ç”¨ç™¾åº¦ã€é«˜å¾·ã€è…¾è®¯åœ°å›¾ç­‰æ˜¾ç¤ºå‡ºæ¥ï¼Œåº”è¯¥éƒ½éœ€è¦è¿›è¡Œåæ ‡è½¬æ¢ï¼Œç„¶åæ‰èƒ½å¤Ÿæ˜¾ç¤ºå‡ºæ¥

```javascript
navigator.geolocation.getCurrentPosition(fnsuc, fnerr, {
  enableHighAccuracy: boolean,
  timeout: 5000,
  maximumAge: 25000
})

navigator.geolocation.watchPosition(fnsuc, fnerr)
navigator.geolocation.cleatWatch()
```

### js çº¢å®ä¹¦ç¬¬ä¸€éç»“æŸï¼ˆ9.8ï¼‰

å¤§è‡´èŠ±äº†ä¸€ä¸ªæœˆå¤šæ—¶é—´å¤§è‡´å®Œæˆé˜…è¯»...  
é™„å½•éƒ¨åˆ†ç•¥è¿‡äº†...  
å¤ªåŸºç¡€çš„ä¹Ÿç•¥è¿‡äº†...  
æš‚æ—¶æ¥è§¦ä¸åˆ°çš„ä¹Ÿç•¥è¿‡äº†...  
å‡†å¤‡å¼€å§‹ `vue.js` å®˜ç½‘ `2.x` å’Œ `3.x`...  
ç¥ˆç¥· ing...  
praying...  
ç¥ˆã£ã¦ã„ã‚‹...  
ğŸ™ğŸ™ğŸ™

## 2021 å¹´ 9 æœˆ 9 æ—¥

### Object.freeze

å†»ç»“å¯¹è±¡ï¼Œç¦æ­¢å¯¹è±¡çš„ä»»ä½•ä¿®æ”¹ã€‚  
åœ¨ `vue` ä¸­å¯ä»¥é’ˆå¯¹ä¸å¸Œæœ›è¢«ç›‘å¬çš„å¯¹è±¡è¿›è¡Œâ€œå†»ç»“â€ï¼Œç‰¹åˆ«æ˜¯å¤§é‡é™æ€æ•°æ®æƒ…å†µä¸‹ï¼Œæœ‰åŠ©äºæ€§èƒ½çš„æå‡

## 2021 å¹´ 9 æœˆ 10 æ—¥

### Promiseï¼ˆ9.22 è¡¥ï¼‰

`promise` çŠ¶æ€ï¼š`pending`ã€`fulfilled`ã€`rejected`

æ³¨æ„ï¼š

- è°ƒç”¨ `resolve` æˆ– `reject` å¹¶ä¸ä¼šç»ˆç»“ `Promise` çš„å‚æ•°å‡½æ•°çš„æ‰§è¡Œï¼Œè€Œæ˜¯ç»§ç»­æ‰§è¡Œåé¢çš„**åŒæ­¥**ä»£ç ï¼Œè¿™æ˜¯å› ä¸ºç«‹å³ `resolved` çš„ `Promise` æ˜¯åœ¨æœ¬è½®äº‹ä»¶å¾ªç¯çš„æœ«å°¾æ‰§è¡Œï¼Œæ€»æ˜¯æ™šäºæœ¬è½®å¾ªç¯çš„åŒæ­¥ä»»åŠ¡
- `Promise` å†…éƒ¨æœ‰è¯­æ³•é”™è¯¯æ—¶ï¼Œæµè§ˆå™¨è¿è¡Œæ—¶ä¼šæŠ¥å¯¹åº”å¼‚å¸¸ï¼Œä½†æ˜¯ä¸ä¼šé€€å‡ºè¿›ç¨‹ï¼Œç»ˆæ­¢è„šæœ¬æ‰§è¡Œã€‚é€šä¿—çš„è¯´æ³•æ˜¯ â€œ[Promise åƒæ‰é”™è¯¯](https://es6.ruanyifeng.com/#docs/promise#Promise-prototype-catch) â€

<span style="color: #c0341d; font-size: 18px;">**ES2020**</span> å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼š`Promise.allSettled()`ï¼Œç”¨æ¥ç¡®å®šä¸€ç»„å¼‚æ­¥æ“ä½œæ˜¯å¦éƒ½ç»“æŸäº†ï¼Œä¸ç®¡ `resolve` è¿˜æ˜¯ `reject`

<span style="color: #c0341d; font-size: 18px;">**ES2021**</span> å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼š`Promise.any()`ï¼Œåªè¦å‚æ•°å®ä¾‹æœ‰ä¸€ä¸ªå˜æˆ `fulfilled` çŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆ `fulfilled` çŠ¶æ€ï¼›å¦‚æœæ‰€æœ‰å‚æ•°å®ä¾‹éƒ½å˜æˆ `rejected` çŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆ `rejected` çŠ¶æ€ã€‚ä¸ `promise.race()` ä¸åŒçš„æ˜¯ï¼Œä¸ä¼šå› ä¸ºæŸä¸ªå®ä¾‹ `reject` è€Œç»“æŸ

## 2021 å¹´ 9 æœˆ 11 æ—¥

### web worker å¤„ç†æ–‡ä»¶ä¸Šä¼ æ—¶çš„æ€è€ƒï¼ˆ9.24 è¡¥ï¼‰

ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ `web worker` å­çº¿ç¨‹å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç ç›´æ¥è½¬ç§»æ•°æ®çš„æ§åˆ¶æƒï¼Œä¸ä¼šé€ æˆæ€§èƒ½è´Ÿæ‹…

```javascript
// Transferable Objects æ ¼å¼
worker.postMessage(arrayBuffer, [arrayBuffer])

// ä¾‹å­
var ab = new ArrayBuffer(1)
worker.postMessage(ab, [ab])
```

è®¡ç®—æ–‡ä»¶ `hash` å€¼åŒæ ·ä¹Ÿå¯ä»¥ç§»äº¤è‡³ `web worker` æ‰§è¡Œ

è¸©å‘ï¼š

æ–‡ä»¶åˆ‡ç‰‡å®Œæˆåï¼Œä¸èƒ½ä¸€æ¬¡æ€§å‘èµ·å…¨éƒ¨åˆ‡ç‰‡çš„ä¸Šä¼ è¯·æ±‚ï¼Œæ–‡ä»¶è¿‡å¤§æ—¶ä¼šç›´æ¥å¯¼è‡´æµè§ˆå™¨å¡é¡¿ã€‚å¯ä»¥è€ƒè™‘åšä¸€ä¸ªä¸Šä¼ é˜Ÿåˆ—ï¼Œå¹¶ä¸”æ§åˆ¶æœ€å¤§å¹¶å‘æ•°

é˜®å¤§å¤§çš„æ•™ç¨‹ï¼š<https://www.ruanyifeng.com/blog/2018/07/web-worker.html>

## 2021 å¹´ 9 æœˆ 12 æ—¥

### delimitersï¼ˆ9.24 è¡¥ï¼‰

vue ç»„ä»¶é€‰é¡¹ä¹‹ä¸€ï¼Œè¿™ä¸ªé€‰é¡¹åªåœ¨å®Œæ•´æ„å»ºç‰ˆæœ¬ä¸­çš„æµè§ˆå™¨å†…ç¼–è¯‘æ—¶å¯ç”¨ã€‚ç”¨äºæ”¹å˜çº¯æ–‡æœ¬æ’å…¥åˆ†éš”ç¬¦

```javascript
new Vue({
  delimiters: ["${", "}"]
})
```

## 2021 å¹´ 9 æœˆ 13 æ—¥

### ua è§£æå·¥å…·

1. mobile-detect
2. ua-parser-js

## 2021 å¹´ 9 æœˆ 14 æ—¥

### transitionï¼ˆ9.26 è¡¥ï¼‰

`vue` å†…ç½®çš„è¿‡æ¸¡ç»„ä»¶ï¼Œåœ¨æ•´ä¸ªåŠ¨ç”»è¿‡ç¨‹ä¸­ï¼Œå…·æœ‰å¤šä¸ªé’©å­å‡½æ•°ï¼Œåœ¨æŸä¸€æ—¶åˆ»è§¦å‘ã€‚å…·ä½“å¯å‚è€ƒ `vue` æ–‡æ¡£

<https://cn.vuejs.org/v2/api/#transition>

### scroll-behaviorï¼ˆ9.26 è¡¥ï¼‰

åˆ‡æ¢è·¯ç”±æ—¶ï¼Œé¡µé¢çš„æ»šåŠ¨è¡Œä¸ºã€‚å¯ä»¥è‡ªåŠ¨æ»šåŠ¨åˆ°é¡¶éƒ¨ã€ä¿æŒåŸå…ˆçš„ä½ç½®æˆ–åˆ°æŒ‡å®šçš„é”šç‚¹ç­‰ã€‚ä½†ä»…æ”¯æŒ**history æ¨¡å¼** å’Œæ”¯æŒ `history.pushState` çš„æµè§ˆå™¨ä¸­å¯ç”¨ã€‚

```javascript
const router = new VueRouter({
  routes: [...],
  scrollBehavior (to, from, savedPosition) {
    // return æœŸæœ›æ»šåŠ¨åˆ°å“ªä¸ªçš„ä½ç½®
    // æ»šåŠ¨åˆ°æŒ‡å®šçš„é”šç‚¹
     if (to.hash) {
      return {
        selector: to.hash,
        behavior: 'smooth'  // æ”¯æŒçš„æµè§ˆå™¨ä¸‹å¯è®¾ç½®å¹³æ»‘æ»šåŠ¨
      }
    }
    // æˆ–æ»šåŠ¨åˆ°åŸå…ˆçš„ä½ç½®
    if (savedPosition) {
      return savedPosition
    } else {
      return { x: 0, y: 0 }
    }
    // è¿”å›ä¸€ä¸ªpromiseå¼‚æ­¥æ»šåŠ¨
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve({ x: 0, y: 0 })
      }, 500)
    })
    //
  }
})
```

## 2021 å¹´ 9 æœˆ 15 æ—¥

### Prop

```html
<custom-input :inputValue="inputValue" class="custom-class"></custom-input>
```

å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œæˆ‘ä»¬é™¤äº†ç»™ç»„ä»¶ç»‘å®š `prop`ï¼ˆ`inputValue`ï¼‰å±æ€§å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šé `prop` çš„å±æ€§ï¼Œä¾‹ï¼š`class` å±æ€§ã€‚è¿™ä¸ª `class` å±æ€§æœ€ç»ˆä¼šè‡ªåŠ¨æ·»åŠ åˆ° `custom-input` ç»„ä»¶å†…éƒ¨çš„æ ¹å…ƒç´ ä¸Šï¼Œå¹¶ä¸”æŸäº›å±æ€§å€¼ä¼šä¸åŸå…ˆçš„å€¼åˆå¹¶èµ·æ¥

å¯ä»¥é€šè¿‡è®¾ç½® `inheritAttrs: false` æ¥ç¦ç”¨å±æ€§ç»§æ‰¿ï¼Œå¹¶ä¸”å€ŸåŠ© `$attrs` æ¥è‡ªå®šä¹‰è®¾ç½®æ‰€éœ€è¦çš„ç»§æ‰¿å±æ€§

> æ³¨æ„ `inheritAttrs: false` é€‰é¡¹ä¸ä¼šå½±å“ `style` å’Œ `class` çš„ç»‘å®š

<!-- TODO: -->

> æ€è€ƒï¼švue3 çš„æ¯ä¸ªç»„ä»¶å®ä¾‹ä¸­å·²å…è®¸å¤šä¸ªæ ¹å…ƒç´ ï¼Œæ­¤æ—¶åº”è¯¥å¦‚ä½•ç»§æ‰¿ï¼Ÿ

## 2021 å¹´ 9 æœˆ 16 æ—¥

### this.\$slots

## 2021 å¹´ 9 æœˆ 17 æ—¥

### intersectionObserverï¼ˆ10.10 è¡¥ï¼‰

`IntersectionObserver` æµè§ˆå™¨åŸç”Ÿæä¾›çš„æ„é€ å‡½æ•°ï¼Œç”¨äº â€œè§‚å¯Ÿâ€ æŸå…ƒç´ æ˜¯å¦å¯è§ã€‚æ„é€ å‡½æ•°è¿”å›ä¸€ä¸ª `observer` å®ä¾‹ï¼Œå¯ä»¥æŒ‡å®šè§‚å¯Ÿå“ªä¸€ä¸ª `DOM` èŠ‚ç‚¹

`IntersectionObserver` å¯åŒæ—¶ç›‘å¬å¤šä¸ª `DOM` èŠ‚ç‚¹ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åˆ›å»ºå¤šä¸ª `IntersectionObserverEntry` å¯¹è±¡ï¼ˆ`entries`ï¼‰ï¼Œå¯¹åº”çš„æ˜¯æ¯ä¸ª `DOM` èŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯ï¼Œå…¶ä¸­æ¯”è¾ƒå¸¸ç”¨çš„å±æ€§æœ‰ï¼š `target`ï¼ˆè¢«è§‚å¯Ÿçš„ç›®æ ‡ï¼‰ã€ `intersectionRatio`ï¼ˆç›®æ ‡å¯è§æ¯”ä¾‹ï¼‰ã€ `isIntersecting`ï¼ˆç›®æ ‡æ˜¯å¦åœ¨å¯è§†åŒºåŸŸï¼‰

```javascript
let intersectionObserver = new IntersectionObserver(entries => {
  entries.forEach(ob => {
    if (ob.isIntersecting) {
      // å½“ç›®æ ‡å¯è§æ—¶è§¦å‘
      // do something...
      // å–æ¶ˆç›‘å¬
      intersectionObserver.unobserve(ob.target)
    } else {
      // å½“ç›®æ ‡ä¸å¯è§æ—¶è§¦å‘
      // do something...
    }
  })
})

// å¼€å¯ç›‘å¬ï¼Œ
intersectionObserver.observe($el)
```

## 2021 å¹´ 9 æœˆ 18 æ—¥

### ä»£ç æ¢è¡Œæ¨¡å¼ LFã€CRLF

`git` åœ¨ `push` ä»£ç æ—¶ï¼Œä¼šè‡ªåŠ¨å°† `CRLF` æ ¼å¼è½¬æ¢æˆ `LF` æ ¼å¼ï¼Œè€Œ `pull` ä»£ç æ—¶ï¼Œä¼šè‡ªåŠ¨å°† `LF` æ ¼å¼è½¬æ¢æˆ `CRLF` æ ¼å¼

å¯é€šè¿‡ä»¥ä¸‹é…ç½®è§£å†³

```bash
git config --global core.autocrlf false
git config --global core.safecrlf true
git config --global core.filemode false
```

æ‰©å±•ï¼š

- `window` çš„æ¢è¡Œæ ¼å¼ä¸ºï¼š`CRLF`
- `Linux` æ¢è¡Œæ ¼å¼ä¸ºï¼š`LF`
- `Mac` æ¢è¡Œæ ¼å¼ä¸ºï¼š`CR`

## 2021 å¹´ 9 æœˆ 19 æ—¥

### JavaScript ä¸ scss çš„æ•°æ®äº¤äº’

`scss` å¯ä»¥é€šè¿‡ `:export` å¯¼å‡ºåˆ° `JavaScript`ï¼Œåªéœ€è¦åœ¨ `JavaScript` é¡µé¢ä¸Šå¼•å…¥å®ƒã€‚å…¶å·¥ä½œåŸç†ç›¸å½“äº `ES6` çš„ `export` å…³é”®å­—

å¤šçš„ä¸è¯´ï¼Œå­¦ä¹ å» ğŸ˜œ

<https://www.bluematador.com/blog/how-to-share-variables-between-js-and-sass>

å®ç”¨åœºæ™¯ï¼š

- åˆ‡æ¢ä¸»é¢˜
- åŠ¨ç”»

\----------------------------------------------------------------------------------------------------

9.29 è¡¥ï¼š

`scss` å¯ä»¥é€šè¿‡ `:export` å¯¼å‡ºå˜é‡ï¼Œä½†å¥½åƒå¹¶ä¸èƒ½åŠ¨æ€æ”¹å˜å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½åŠ¨æ€æ”¹å˜å€¼...ğŸ˜… æ„Ÿè§‰ç™½å¼€å¿ƒäº†ä¸€åœº...

è™½ç„¶ä¸èƒ½åŠ¨æ€æ”¹å˜ï¼Œä½†å¯ä»¥ç”¨äº `element` çš„è‡ªå®šä¹‰ä¸»é¢˜ï¼Œå…·ä½“æ–¹æ¡ˆå¯ä»¥å‚è€ƒ `element` å®˜ç½‘æˆ–è€… `vue-element-admin` é¡¹ç›®

## 2021 å¹´ 9 æœˆ 20 æ—¥

### transpileDependenciesï¼ˆ10.12 è¡¥ï¼‰

é»˜è®¤æƒ…å†µä¸‹ `babel-loader` ä¼šå¿½ç•¥æ‰€æœ‰ `node_modules` ä¸­çš„æ–‡ä»¶ã€‚å¦‚æœæƒ³è¦é€šè¿‡ `Babel` æ˜¾å¼è½¬è¯‘ä¸€ä¸ªä¾èµ–ï¼Œå¯ä»¥åœ¨ `vue.config.js` ä¸‹çš„ `transpileDependencies` å±æ€§ä¸­æ·»åŠ 

è‹¥ç›´æ¥è¾“å…¥æ–‡ä»¶å¤¹åä¸ç”Ÿæ•ˆï¼Œå¯ä»¥è€ƒè™‘ç”¨æ­£åˆ™ä»£æ›¿ï¼Œæˆ–è€…ç”¨ `npm` é‡è£…ä¸€ä¸‹ä¾èµ–

```javascript
transpileDependencies: [
  'element-ui'
  /[/\\]node_modules[/\\](.+?)?element-ui(.*)[/\\]src/,
]
```

å¸¸ç”¨äº `ES` è¯­æ³•å…¼å®¹ `IE` æµè§ˆå™¨

å¦‚æœéœ€è¦æ˜¾å¼åœ°åˆ—å‡ºéœ€è¦çš„ `polyfill`ï¼Œå¯ä»¥ä½¿ç”¨ `@vue/babel-preset-app` çš„ [polyfills](https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/babel-preset-app#polyfills) é€‰é¡¹é¢„åŒ…å«æ‰€éœ€è¦çš„ `polyfill`

```javascript
// babel.config.js
module.exports = {
  presets: [
    [
      "@vue/app",
      {
        polyfills: ["es.promise", "es.symbol"]
      }
    ]
  ]
}
```

å¦‚æœæ²¡æœ‰æ˜¾å¼åœ°åˆ—å‡ºéœ€è¦çš„ `polyfill`ï¼Œè¯·ä½¿ç”¨ `useBuiltIns: 'entry'` ç„¶ååœ¨å…¥å£æ–‡ä»¶æ·»åŠ  `import 'core-js/stable';` `import 'regenerator-runtime/runtime';`ã€‚è¿™ä¼šæ ¹æ® `browserslist` ç›®æ ‡å¯¼å…¥æ‰€æœ‰ `polyfill`ï¼Œä½†æ˜¯å› ä¸ºåŒ…å«äº†ä¸€äº›æ²¡æœ‰ç”¨åˆ°çš„ `polyfill` æ‰€ä»¥æœ€ç»ˆçš„åŒ…å¤§å°å¯èƒ½ä¼šå¢åŠ ã€‚

å‚è€ƒæ–‡æ¡£

- [vue-cli æ–‡æ¡£](https://cli.vuejs.org/zh/guide/browser-compatibility.html#polyfill)
- [@babel/preset-env æ–‡æ¡£](https://babeljs.io/docs/en/babel-preset-env.html#usebuiltins-usage)

## 2021 å¹´ 9 æœˆ 21 æ—¥

### å…¨å±€å¼•ç”¨ scssï¼ˆ10.12 è¡¥ï¼‰

è‹¥è¦åœ¨å…¨å±€ä¸‹å¼•å…¥ scss å˜é‡æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ vue.config.js ä¸­çš„ css é€‰é¡¹ä¸­å¢åŠ é…ç½®ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

```javascript
module.exports = {
  css: {
    loaderOptions: {
      scss: {
        prependData: `@import "~@/styles/_vars.scss";`
      }
    }
  }
}
```

éœ€è¦æ³¨æ„ï¼š

- `scss` çš„å‚æ•°ä¸èƒ½ç”¨ `additionalData`ï¼Œè€Œæ˜¯è¦ç”¨ `prependData`ï¼Œå¦åˆ™ä¼šæŠ¥é”™
- `sass-loader` çš„ç‰ˆæœ¬åº”è¯¥å¤§äº `7.0` ï¼ˆ`7.0` åæ›´åä¸º `prependData`ï¼‰

å‚è€ƒæ–‡æ¡£ï¼š

- [vue-cli æ–‡æ¡£](https://cli.vuejs.org/zh/guide/css.html#%E5%90%91%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8-loader-%E4%BC%A0%E9%80%92%E9%80%89%E9%A1%B9)
- [sass-loader æ–‡æ¡£](https://github.com/webpack-contrib/sass-loader#additionaldata)

## 2021 å¹´ 9 æœˆ 22 æ—¥

### gitignore

ä½¿ç”¨.gitignore æ–‡ä»¶å¿½ç•¥æŸäº›æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„å˜åŒ–è¿½è¸ªï¼Œå‘ç°æ·»åŠ å¯¹åº”å‘½ä»¤åä»ç„¶ä¼šè¢«è¿½è¸ªï¼Œä¸å¦¨è¯•è¯•å°†è¯¥æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åˆ é™¤ã€‚

### errorHandler

```javascript
Vue.config.errorHandler = function(err, vm, info) {
  // handle error
  // `info` æ˜¯ Vue ç‰¹å®šçš„é”™è¯¯ä¿¡æ¯ï¼Œæ¯”å¦‚é”™è¯¯æ‰€åœ¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­
  // åªåœ¨ 2.2.0+ å¯ç”¨
}
```

`vue` å…¨å±€é”™è¯¯å¤„ç†å‡½æ•°ï¼Œå»ºè®®æŒç»­å…³æ³¨ï¼š

> ä» 2.2.0 èµ·ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šæ•è·<span style="color: #c0341d">ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œçš„é”™è¯¯</span>ã€‚åŒæ ·çš„ï¼Œå½“è¿™ä¸ªé’©å­æ˜¯ `undefined` æ—¶ï¼Œè¢«æ•è·çš„é”™è¯¯ä¼šé€šè¿‡ `console.error` è¾“å‡ºè€Œé¿å…åº”ç”¨å´©æºƒã€‚  
> ä» 2.4.0 èµ·ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šæ•è· <span style="color: #c0341d">`Vue` è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°å†…éƒ¨çš„é”™è¯¯</span>äº†ã€‚  
> ä» 2.6.0 èµ·ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šæ•è· <span style="color: #c0341d">`v-on` `DOM` ç›‘å¬å™¨å†…éƒ¨æŠ›å‡ºçš„é”™è¯¯</span>ã€‚å¦å¤–ï¼Œå¦‚æœä»»ä½•è¢«è¦†ç›–çš„é’©å­æˆ–å¤„ç†å‡½æ•°è¿”å›ä¸€ä¸ª `Promise` é“¾ (ä¾‹å¦‚ `async` å‡½æ•°)ï¼Œåˆ™æ¥è‡ªå…¶ <span style="color: #c0341d">`Promise` é“¾çš„é”™è¯¯ä¹Ÿä¼šè¢«å¤„ç†</span>ã€‚

æ³¨æ„ï¼š

`window.onerror` ä¼šè¢« `errorHandler` è¦†ç›–ã€‚å¦‚æœä»…éœ€è¦æ•è· `vue` ä¸­çš„å¼‚å¸¸ï¼Œè¯·ä½¿ç”¨ `errorHandler`ï¼ˆ[yyx](https://github.com/vuejs/vue/issues/5901#issuecomment-309106034)ï¼‰

## 2021 å¹´ 9 æœˆ 23 æ—¥

### é¡µé¢å´©æºƒç›‘æ§

ç›‘æ§é¡µé¢å´©æºƒçš„æ€è€ƒï¼š<https://zhuanlan.zhihu.com/p/40273861>

æ–¹æ³•ä¸€ï¼šå€ŸåŠ© `sessionstorage`ï¼Œåœ¨ `document.load` äº‹ä»¶ä¹‹åå­˜å‚¨ä¸€ä¸ªå€¼ä¸º `pending` çš„ `good_exit` å‚æ•°ï¼Œåœ¨ç”¨æˆ·æ­£å¸¸é€€å‡ºé¡µé¢æ—¶ä¼šè§¦å‘ `beforeunload` äº‹ä»¶ï¼ŒåŒæ—¶å°† `good_exit` å‚æ•°ä¿®æ”¹ä¸º `true`ã€‚å¦‚æœç”¨æˆ·é¡µé¢å´©æºƒæˆ–éæ­£å¸¸é€€å‡ºï¼Œé‚£ä¹ˆ `good_exit` ä»ä¼šæ˜¯ `pending`ã€‚è¿™ç§æ–¹æ³•çš„ç¼ºé™·æ˜¯ï¼Œéœ€è¦å†æ¬¡è®¿é—®æ­¤é¡µé¢çš„æ—¶å€™æ‰èƒ½å¤Ÿåˆ¤æ–­é¡µé¢æ˜¯å¦å´©æºƒâ€œè¿‡â€

æ–¹æ³•äºŒï¼šå€ŸåŠ© `web/service worker` å‘èµ·å¿ƒè·³åŒ…æ¥æ£€æµ‹é¡µé¢æ˜¯å¦å¡é¡¿æˆ–å´©æºƒï¼ˆ`chrome://crash` æ¨¡æ‹Ÿå´©æºƒå¥½åƒä¸ä¼šè§¦å‘ï¼‰éœ€è¦æ³¨æ„åœ¨æ­£å¸¸é€€å‡ºé¡µé¢æ—¶å…³é—­ `web worker` å’Œå®šæ—¶å™¨

## 2021 å¹´ 9 æœˆ 24 æ—¥

### propsData

åªèƒ½ç”¨åœ¨ `new` åˆ›å»ºçš„å®ä¾‹ä¸­ï¼Œåˆ›å»ºå®ä¾‹æ—¶ä¼ é€’ `props`

å¯ä»¥ç®€å•ç†è§£ä¸ºå°±æ˜¯ `props`ï¼Œåªä¸è¿‡å¿…é¡»å¾—ç”¨äº `vue.extend` åˆ›å»ºçš„å­å®ä¾‹ä¸­

```javascript
var Comp = Vue.extend({
  props: ["msg"],
  template: "<div>{{ msg }}</div>"
})

var vm = new Comp({
  propsData: {
    msg: "hello"
  }
})
```

åœ¨å†™è‡ªå®šä¹‰æ’ä»¶çš„æ—¶å€™ä¼šæœ‰å¾ˆå¤§çš„ç”¨é€”ï¼Œå¦‚ï¼š`toast` æ’ä»¶

## 2021 å¹´ 9 æœˆ 25 æ—¥

### vue é¡¹ç›®ç®¡ç†å™¨ï¼ˆ10.11 è¡¥ï¼‰

é€šè¿‡ `vue ui` å‘½ä»¤å¯ä»¥å¼€å¯å›¾å½¢ç•Œé¢çš„é¡¹ç›®ç®¡ç†å™¨ï¼Œå¤šä¸ªé¡¹ç›®ä¹‹é—´çµæ´»åˆ‡æ¢åŠè·‘å„ç§ `npm` å‘½ä»¤ï¼Œæƒ³å·æ‡’çš„å¯ä»¥è¯•è¯• ğŸ˜

![vue-ui-demo](../.vuepress/public/img/vue-ui-demo.png "vue-ui-demo")

## 2021 å¹´ 9 æœˆ 26 æ—¥

### v-cloak

`v-cloak` ä¸»è¦ç”¨äºè§£å†³ç”±äºç½‘ç»œæˆ–å…¶ä»–åŸå› å¯¼è‡´é¡µé¢æ¥ä¸åŠæ¸²æŸ“è€Œæ˜¾ç¤ºå‡ºæºç çš„é—®é¢˜

å¦‚ä¸‹æ‰€ç¤ºï¼Œå¯èƒ½å­˜åœ¨é—ªä¸€ä¸‹å‡ºç° `{{context}}` å†æ˜¾ç¤º "hello world" çš„é—®é¢˜ã€‚ä¸»è¦åœ¨åŸç”Ÿ `HTML` é¡¹ç›®ä¸­ä½¿ç”¨ `vue` æ¡†æ¶çš„æƒ…å†µä¸‹å‡ºç°

```html
<div id="app">
  {{context}}
</div>
```

```vue
<script>
var app = new Vue({
  el: "#app",
  data: {
    context: "hello world"
  }
})
</script>
```

### keep-alive

- includeï¼šå­—ç¬¦ä¸²ã€æ•°ç»„æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œåªæœ‰åç§°åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜
- excludeï¼šå­—ç¬¦ä¸²ã€æ•°ç»„æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»»ä½•åç§°åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜
- maxï¼šæ•°å­—ï¼Œæœ€å¤šå¯ä»¥ç¼“å­˜å¤šå°‘ç»„ä»¶å®ä¾‹

`keep-alive` ä¸‹è·¯ç”±çš„è·³è½¬ï¼Œé¡µé¢ä¼šè§¦å‘ `activated` å’Œ `deactivated` äº‹ä»¶

## 2021 å¹´ 9 æœˆ 27 æ—¥

### props çš„å¦™ç”¨

å½“é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°é“¾æ¥æ ä¼ å‚æ—¶ï¼Œç»å¸¸ä¼šç”¨åˆ°è·¯ç”± `/path/:id?`

å¯ä»¥è®¾ç½® `props:true` å³å¯è·Ÿçˆ¶å­ä¼ å‚ä¸€æ ·ç”¨ `props` æ¥æ”¶é“¾æ¥æ çš„å‚æ•°ï¼Œå³ `id`

```javascript
// router.js
const routes = [
  // ...
  {
    path: "/path/:id",
    component: () => import("@/views/**/path.vue"),
    props: true
  }
]

// path.vue
export default {
  props: {
    id: String
  }
}
```

## 2021 å¹´ 9 æœˆ 28 æ—¥

### router.replace

é¡µé¢è·³è½¬é™¤äº†ç”¨ `router.push()` å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ `router.replace()`ï¼ŒåŒºåˆ«åœ¨äºåè€…æ˜¯ç›´æ¥æ›¿æ¢å†å²è®°å½•

### router.resolve

router.resolve() çš„åŠŸèƒ½æ˜¯ï¼šè¿”å›ä¸€ä¸ªå®Œæ•´çš„è·¯å¾„ä¿¡æ¯ï¼Œå¯ç”¨äºé¡µé¢è·³è½¬

```javascript
const resolved: {
  location: Location;
  route: Route;
  href: string;
} = router.resolve(location, current?, append?)
```

## 2021 å¹´ 9 æœˆ 29 æ—¥

### scss æ ·å¼ä¹‹ !default

`!default` ä½œç”¨ç±»ä¼¼äºç¼ºçœå€¼ï¼Œæ€ä¹ˆç”¨å°±çœ‹ä¸‹é¢çš„ä¾‹å­å§ï¼Œä¸€çœ‹å°±æ‡‚

```scss
//Example1 Dress color = red
$auroras-dress-color: blue;
$auroras-dress-color: red;

//Example2 Dress color = red
$auroras-dress-color: blue !default;
$auroras-dress-color: red;

//Example3 Dress color = blue
$auroras-dress-color: blue;
$auroras-dress-color: red !default;
```

å‚è€ƒæ¥æºï¼š[åœ°å€ ğŸš€](https://stackoverflow.com/questions/10643107/what-does-default-in-a-css-property-value-mean)

## 2021 å¹´ 9 æœˆ 30 æ—¥

### mix() å‡½æ•°

`scss` ä¸‹çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºé¢œè‰²çš„åˆå¹¶

```css
body {
  color: mix(#fff, #000, 50%);
}
```

å¦‚ä¸Šæ‰€ç¤ºï¼Œä¸€èˆ¬ä¼šæœ‰ä¸‰ä¸ªå‚æ•°ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæƒé‡ï¼ŒæŒ‡ç¬¬ä¸€ä¸ªé¢œè‰²æ‰€å çš„æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º `50%`

\----------------------------------------

vue2 å®˜ç½‘å¥½åƒä¹Ÿè¿‡å®Œä¸€éäº†...  
é—ç•™äº†äº›éœ€è¦èŠ±æ—¶é—´ç†Ÿæ‚‰çš„...  
ä¸‹ä¸€æ­¥å†³å®šè¿˜æ˜¯å…ˆæä¸€ä¸‹ vue-cli å§...
å¸Œæœ›å¯ä»¥é¡ºåˆ©...
ä½†æ„¿å§...  
hope...  
ç¥ˆã£ã¦ã„ã‚‹...  
ğŸ™ğŸ™ğŸ™
