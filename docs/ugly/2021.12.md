# ç¬”è®°

## 2021 å¹´ 12 æœˆ 1 æ—¥

### è§£æ„èµ‹å€¼

æ”¶å½•äº†ä¸€äº›ç»“æ„èµ‹å€¼å¸¸ç”¨çš„åœºæ™¯~

æ–‡æ¡£åœ°å€ï¼š[ES6 å®˜æ–¹æ–‡æ¡£ ğŸš€](https://es6.ruanyifeng.com/?search=%3F%3F&x=3&y=5#docs/destructuring#%E7%94%A8%E9%80%94)

#### äº¤æ¢å˜é‡çš„å€¼

```javascript
let x = 1
let y = 2

;[x, y] = [y, x]
```

#### ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼

```javascript
function example() {
  return {
    foo: 1,
    bar: 2
  }
}
let { foo, bar } = example()
// åŒè¿”å›æ•°ç»„
```

#### å‡½æ•°å‚æ•°çš„å®šä¹‰

```javascript
// å‚æ•°æ˜¯ä¸€ç»„æœ‰æ¬¡åºçš„å€¼
function f([x, y, z]) { ... }
f([1, 2, 3]);

// å‚æ•°æ˜¯ä¸€ç»„æ— æ¬¡åºçš„å€¼
function f({x, y, z}) { ... }
f({z: 3, y: 2, x: 1});
```

#### æå– JSON æ•°æ®

```javascript
let jsonData = {
  id: 42,
  status: "OK",
  data: [867, 5309]
}

let { id, status, data: number } = jsonData
```

#### å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼

```javascript
jQuery.ajax = function(
  url,
  {
    async = true,
    beforeSend = function() {},
    cache = true,
    complete = function() {},
    crossDomain = false,
    global = true
    // ... more config
  } = {}
) {
  // ... do stuff
}
```

#### éå† MAP ç»“æ„

```javascript
const map = new Map()
map.set("first", "hello")
map.set("second", "world")

for (let [key, value] of map) {
  console.log(key + " is " + value)
}
```

#### è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•

```javascript
const { SourceMapConsumer, SourceNode } = require("source-map")
```

## 2021 å¹´ 12 æœˆ 2 æ—¥

### BigInt

å·ç§° ECMAScript çš„ç¬¬å…«ç§æ•°æ®ç±»å‹ã€‚æœ‰ä»¥ä¸‹ç‰¹ç‚¹

- å¿…é¡»åŠ ä¸Šåç¼€ `n`
- åªç”¨äºè¡¨ç¤ºæ•´æ•°
- ä¸é™äºå„ç§è¿›åˆ¶
- æ²¡æœ‰ä½æ•°é™åˆ¶
- å¯ä»¥ä½¿ç”¨è´Ÿå·ï¼Œä½†ä¸èƒ½ä½¿ç”¨æ­£å·ï¼ˆ`+`ï¼‰
- ä¸æ™®é€šæ•´æ•°ä¸ç›¸ç­‰ï¼š `42n === 42` çš„ç»“æœä¸º `false`
- `typeof` è¿”å›çš„å€¼ä¸º `BigInt`

å¯ä»¥é€šè¿‡ `BigInt()` å‡½æ•°å°†å…¶ä»–ç±»å‹è½¬æ¢æˆ `BigInt`

`BigInt` è¿˜åŒ…å« `toString()`ã€`valueOf()`ã€`toLocaleString()` ç­‰ä¸€äº›[æ–¹æ³• ğŸš€](https://es6.ruanyifeng.com/?search=%3F%3F&x=3&y=5#docs/number#BigInt-%E5%87%BD%E6%95%B0)

## 2021 å¹´ 12 æœˆ 3 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 12 æœˆ 4 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 12 æœˆ 5 æ—¥

ç¼ºå¸­...

## 2021 å¹´ 12 æœˆ 6 æ—¥

### referer === referrer ï¼Ÿ

`HTTP` ä¸­çš„ `referer` æ˜¯è¯·æ±‚å¤´çš„ä¸€ä¸ªå­—æ®µï¼Œç”¨äºè¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯ä»å“ªä¸ªæ¥æºç½‘é¡µå‘å‡ºçš„ï¼Œå³å¯ä»¥æ£€æŸ¥è®¿å®¢ä»å“ªé‡Œæ¥ï¼Œä¹Ÿå¯ä»¥ç”¨äºå¯¹ä»˜ä¼ªé€ çš„è·¨ç½‘ç«™è¯·æ±‚ï¼ˆcsrfï¼‰

`referer` çš„æ­£ç¡®è‹±æ–‡æ˜¯ `referrer`ï¼Œè¿™æ˜¯æ—©æœŸ `HTTP` è§„èŒƒå½“ä¸­å­˜åœ¨çš„æ‹¼å†™é”™è¯¯ï¼Œåæ¥ä¸ºäº†ä¿æŒå‘ä¸‹å…¼å®¹å°±å°†é”™å°±é”™ã€‚ä¸€èˆ¬è¯´ `referrer` æŒ‡çš„å°±æ˜¯ `document.referrer`ï¼Œ

å› å¼•ç”¨åœ°å€ä¿¡æ¯ `referer` å¯èƒ½ä¼šå¸¦æ¥éšç§æƒé—®é¢˜ï¼Œä¸å°‘ç½‘é¡µæµè§ˆå™¨å…è®¸ç”¨æˆ·è®¾ç½®ä¸è¦æäº¤è¿™ä¸ªä¿¡æ¯ï¼Œæœ‰äº›ä»£ç†æœåŠ¡å™¨å’Œé˜²ç«å¢™ä¹Ÿä¼šå°†å¼•ç”¨åœ°å€ä¿¡æ¯è¿‡æ»¤æ‰ï¼Œä»¥é¿å…å¤–éƒ¨è·çŸ¥éå…¬å¼€çš„ç½‘ç»œåœ°å€ã€‚å› æ­¤å¦‚æœæƒ³è¦ä¿è¯ referer ä¿¡æ¯çš„ä¸Šä¼ ï¼Œå¯ä»¥æ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹ meta å¤´

```html
<meta content="always" name="referrer" />
```

`referer` ä¸è¢«å…è®¸ä¿®æ”¹ï¼Œæµè§ˆå™¨ä¼šæç¤ºï¼š`Refused to set unsage header "Referer"`

å…¶ä»–ä¸èƒ½ä¿®æ”¹çš„è¯·æ±‚å¤´å¦‚ä¸‹ï¼š

```text
Accept-Charset
Accept-Encoding
Access-Control-Request-Headers
Access-Control-Request-Method
Connection
Content-Length
Cookie
Cookie2
Date
DNT
Expect
Feature-Policy
Host
Keep-Alive
Origin
Proxy-
Sec-
Referer
TE
Trailer
Transfer-Encoding
Upgrade
Via
```

<!-- ç›¸å…³æ–‡æ¡£ï¼š[ç½‘ç»œåŸºç¡€ ğŸš€](https://developers.google.com/web/fundamentals/security/csp?hl=zh-cn) -->
