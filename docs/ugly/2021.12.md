# 笔记

## 2021 年 12 月 1 日

### 解构赋值

收录了一些结构赋值常用的场景~

文档地址：[ES6 官方文档 🚀](https://es6.ruanyifeng.com/?search=%3F%3F&x=3&y=5#docs/destructuring#%E7%94%A8%E9%80%94)

#### 交换变量的值

```javascript
let x = 1
let y = 2

;[x, y] = [y, x]
```

#### 从函数返回多个值

```javascript
function example() {
  return {
    foo: 1,
    bar: 2
  }
}
let { foo, bar } = example()
// 同返回数组
```

#### 函数参数的定义

```javascript
// 参数是一组有次序的值
function f([x, y, z]) { ... }
f([1, 2, 3]);

// 参数是一组无次序的值
function f({x, y, z}) { ... }
f({z: 3, y: 2, x: 1});
```

#### 提取 JSON 数据

```javascript
let jsonData = {
  id: 42,
  status: "OK",
  data: [867, 5309]
}

let { id, status, data: number } = jsonData
```

#### 函数参数的默认值

```javascript
jQuery.ajax = function(
  url,
  {
    async = true,
    beforeSend = function() {},
    cache = true,
    complete = function() {},
    crossDomain = false,
    global = true
    // ... more config
  } = {}
) {
  // ... do stuff
}
```

#### 遍历 MAP 结构

```javascript
const map = new Map()
map.set("first", "hello")
map.set("second", "world")

for (let [key, value] of map) {
  console.log(key + " is " + value)
}
```

#### 输入模块的指定方法

```javascript
const { SourceMapConsumer, SourceNode } = require("source-map")
```

## 2021 年 12 月 2 日

### BigInt

号称 ECMAScript 的第八种数据类型。有以下特点

- 必须加上后缀 `n`
- 只用于表示整数
- 不限于各种进制
- 没有位数限制
- 可以使用负号，但不能使用正号（`+`）
- 与普通整数不相等： `42n === 42` 的结果为 `false`
- `typeof` 返回的值为 `BigInt`

可以通过 `BigInt()` 函数将其他类型转换成 `BigInt`

`BigInt` 还包含 `toString()`、`valueOf()`、`toLocaleString()` 等一些[方法 🚀](https://es6.ruanyifeng.com/?search=%3F%3F&x=3&y=5#docs/number#BigInt-%E5%87%BD%E6%95%B0)

## 2021 年 12 月 3 日

缺席...

## 2021 年 12 月 4 日

缺席...

## 2021 年 12 月 5 日

缺席...

## 2021 年 12 月 6 日

### referer === referrer ？

`HTTP` 中的 `referer` 是请求头的一个字段，用于表示这个请求是从哪个来源网页发出的，即可以检查访客从哪里来，也可以用于对付伪造的跨网站请求（csrf）

`referer` 的正确英文是 `referrer`，这是早期 `HTTP` 规范当中存在的拼写错误，后来为了保持向下兼容就将错就错。一般说 `referrer` 指的就是 `document.referrer`，

因引用地址信息 `referer` 可能会带来隐私权问题，不少网页浏览器允许用户设置不要提交这个信息，有些代理服务器和防火墙也会将引用地址信息过滤掉，以避免外部获知非公开的网络地址。因此如果想要保证 referer 信息的上传，可以手动设置一下 meta 头

```html
<meta content="always" name="referrer" />
```

`referer` 不被允许修改，浏览器会提示：`Refused to set unsage header "Referer"`

其他不能修改的请求头如下：

```text
Accept-Charset
Accept-Encoding
Access-Control-Request-Headers
Access-Control-Request-Method
Connection
Content-Length
Cookie
Cookie2
Date
DNT
Expect
Feature-Policy
Host
Keep-Alive
Origin
Proxy-
Sec-
Referer
TE
Trailer
Transfer-Encoding
Upgrade
Via
```

<!-- 相关文档：[网络基础 🚀](https://developers.google.com/web/fundamentals/security/csp?hl=zh-cn) -->
