(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{389:function(t,a,s){t.exports=s.p+"assets/img/reactive.8d8a2034.png"},390:function(t,a,s){t.exports=s.p+"assets/img/changeOrigin-false.121a95b9.png"},391:function(t,a,s){t.exports=s.p+"assets/img/changeOrigin-true.bf33416f.png"},457:function(t,a,s){"use strict";s.r(a);var e=s(45),v=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"笔记"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#笔记"}},[t._v("#")]),t._v(" 笔记")]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-1-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-1-日"}},[t._v("#")]),t._v(" 2021 年 10 月 1 日")]),t._v(" "),e("h3",{attrs:{id:"ref、reactive-10-28-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ref、reactive-10-28-补"}},[t._v("#")]),t._v(" ref、reactive（10.28 补）")]),t._v(" "),e("p",[t._v("composition API 下定义基本数据类型和对象的方式...")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userName "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" listData "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"234"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("listData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("em...用着是真的有点麻烦：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("ref")]),t._v(" 定义变量要通过 "),e("code",[t._v(".value")]),t._v(" 来访问值（但通过 "),e("code",[t._v("return")]),t._v(" 返回的会自动浅解包）")]),t._v(" "),e("li",[t._v("打印 "),e("code",[t._v("reactive")]),t._v(" 对象到控制台的样子挺怪的，不直观")])]),t._v(" "),e("p",[e("img",{attrs:{src:s(389),alt:"reactive.png",title:"reactive.png"}})]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-2-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-2-日"}},[t._v("#")]),t._v(" 2021 年 10 月 2 日")]),t._v(" "),e("h3",{attrs:{id:"vue2-vs-vue3-周期函数-11-4-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue2-vs-vue3-周期函数-11-4-补"}},[t._v("#")]),t._v(" vue2 vs vue3 周期函数（11.4 补）")]),t._v(" "),e("p",[t._v("新增：")]),t._v(" "),e("ul",[e("li",[t._v("beforeUnmount：在卸载组件实例之前调用。在这个阶段，实例仍然是完全正常的。")]),t._v(" "),e("li",[t._v("unmounted：卸载组件实例后调用。调用此钩子时，组件实例的所有指令都被解除绑定，所有事件侦听器都被移除，所有子组件实例被卸载。")]),t._v(" "),e("li",[t._v("renderTracked：跟踪虚拟 "),e("code",[t._v("DOM")]),t._v(" 重新渲染时调用。钩子接收 "),e("code",[t._v("debugger event")]),t._v(" 作为参数。此事件告诉你哪个操作跟踪了组件以及该操作的目标对象和键。")]),t._v(" "),e("li",[t._v("renderTriggered：当虚拟 "),e("code",[t._v("DOM")]),t._v(" 重新渲染被触发时调用。和 "),e("code",[t._v("renderTracked")]),t._v(" 类似，接收 "),e("code",[t._v("debugger event")]),t._v(" 作为参数。此事件告诉你是什么操作触发了重新渲染，以及该操作的目标对象和键。")])]),t._v(" "),e("p",[t._v("删除：")]),t._v(" "),e("ul",[e("li",[t._v("beforeDestory")]),t._v(" "),e("li",[t._v("destoryed")])]),t._v(" "),e("p",[t._v("准确的说，应该是 "),e("code",[t._v("beforeDestory")]),t._v(" 和 "),e("code",[t._v("destoryed")]),t._v(" 改成了 "),e("code",[t._v("beforeUnmount")]),t._v(" 和 "),e("code",[t._v("unmounted")]),t._v("，并且新增了两个钩子函数用于追踪数据的变化")]),t._v(" "),e("p",[t._v("注意在 "),e("code",[t._v("vue3")]),t._v(" 的 "),e("code",[t._v("composition API")]),t._v(" 中，是没有 "),e("code",[t._v("beforeCreate")]),t._v(" 和 "),e("code",[t._v("create")]),t._v(" 这两个钩子函数，只有 "),e("code",[t._v("setup")]),t._v("，并且 "),e("code",[t._v("composition API")]),t._v(" 中是用 "),e("code",[t._v("onX")]),t._v(" 来注册对应的钩子函数")]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-3-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-3-日"}},[t._v("#")]),t._v(" 2021 年 10 月 3 日")]),t._v(" "),e("h3",{attrs:{id:"自定义指令-11-5-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义指令-11-5-补"}},[t._v("#")]),t._v(" 自定义指令（11.5 补）")]),t._v(" "),e("p",[e("code",[t._v("vue3")]),t._v(" 相较于 "),e("code",[t._v("vue2")]),t._v("，在钩子函数上做了一些改动，为了更好的跟生命周期钩子函数保持一致；除此之外，参数中 "),e("code",[t._v("expression")]),t._v("（字符串形式的指令表达式如：'"),e("code",[t._v("1+1")]),t._v("'） 将不在使用")]),t._v(" "),e("p",[t._v("（幸好常用的几个钩子变化不大 🤣）")]),t._v(" "),e("p",[e("code",[t._v("vue3")]),t._v(" 指令钩子函数：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("created")]),t._v(" - 新增！在元素的 attribute 或事件监听器被应用之前调用。")]),t._v(" "),e("li",[e("code",[t._v("bind")]),t._v(" → "),e("code",[t._v("beforeMount")])]),t._v(" "),e("li",[e("code",[t._v("inserted")]),t._v(" → "),e("code",[t._v("mounted")])]),t._v(" "),e("li",[e("code",[t._v("beforeUpdate")]),t._v("：新增！在元素本身被更新之前调用，与组件的生命周期钩子十分相似。")]),t._v(" "),e("li",[e("code",[t._v("update")]),t._v(" → 移除！该钩子与 updated 有太多相似之处，因此它是多余的。请改用 updated。")]),t._v(" "),e("li",[e("code",[t._v("componentUpdated")]),t._v(" → "),e("code",[t._v("updated")])]),t._v(" "),e("li",[e("code",[t._v("beforeUnmount")]),t._v("：新增！与组件的生命周期钩子类似，它将在元素被卸载之前调用。")]),t._v(" "),e("li",[e("code",[t._v("unbind")]),t._v(" -> "),e("code",[t._v("unmounted")])])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-4-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-4-日"}},[t._v("#")]),t._v(" 2021 年 10 月 4 日")]),t._v(" "),e("h2",{attrs:{id:"devtools-beta-11-15-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#devtools-beta-11-15-补"}},[t._v("#")]),t._v(" Devtools Beta（11.15 补）")]),t._v(" "),e("p",[t._v("如果发现自己的 "),e("code",[t._v("vue3")]),t._v(" 项目不能使用 "),e("code",[t._v("Devtools")]),t._v(" 了，试试安装一下 "),e("code",[t._v("beta")]),t._v(" 版的开发者工具吧")]),t._v(" "),e("p",[t._v("下载地址："),e("a",{attrs:{href:"https://chrome.zzzmh.cn/info?token=ljjemllljcmogpfapbkkighbhhppjdbg",target:"_blank",rel:"noopener noreferrer"}},[t._v("点这里 🚀"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-5-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-5-日"}},[t._v("#")]),t._v(" 2021 年 10 月 5 日")]),t._v(" "),e("h3",{attrs:{id:"http-缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-缓存"}},[t._v("#")]),t._v(" HTTP 缓存")]),t._v(" "),e("h4",{attrs:{id:"http1-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http1-0"}},[t._v("#")]),t._v(" HTTP1.0")]),t._v(" "),e("p",[e("code",[t._v("Expires")]),t._v("：即过期时间，存在 "),e("code",[t._v("RH")]),t._v(" 中，在这个时间之前可以直接从缓存中获取数据")]),t._v(" "),e("p",[e("code",[t._v("Last-Modified")]),t._v("：资源的最后修改时间")]),t._v(" "),e("p",[e("code",[t._v("If-Modified-Since")]),t._v("：协商缓存过程中，请求头会增加 "),e("code",[t._v("If-Modified-Since")]),t._v(" 字段用于携带 "),e("code",[t._v("Last-Modified")]),t._v(" 的值")]),t._v(" "),e("h4",{attrs:{id:"http1-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http1-1"}},[t._v("#")]),t._v(" HTTP1.1")]),t._v(" "),e("p",[e("code",[t._v("Cache-Control")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("max-age（s）")]),t._v("：代表资源在**秒内有效")]),t._v(" "),e("li",[e("code",[t._v("public")]),t._v("：表示客户端和服务端都可以缓存")]),t._v(" "),e("li",[e("code",[t._v("private")]),t._v("：只有浏览器可以缓存")]),t._v(" "),e("li",[e("code",[t._v("no-catch")]),t._v("：跳过强缓存，直接进入协商缓存阶段")]),t._v(" "),e("li",[e("code",[t._v("no-store")]),t._v("：不进行任何方式的缓存")]),t._v(" "),e("li",[e("code",[t._v("s-maxage")]),t._v("：针对代理服务器的缓存时间")])]),t._v(" "),e("p",[e("code",[t._v("ETag")]),t._v("：资源文件的唯一标识")]),t._v(" "),e("p",[e("code",[t._v("If-None-Match")]),t._v("：协商缓存过程中，请求头会增加 "),e("code",[t._v("If-None-Match")]),t._v(" 字段用于携带 "),e("code",[t._v("ETag")]),t._v(" 的值")]),t._v(" "),e("h4",{attrs:{id:"缓存位置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓存位置"}},[t._v("#")]),t._v(" 缓存位置")]),t._v(" "),e("ul",[e("li",[t._v("比较大的 "),e("code",[t._v("JS")]),t._v("、"),e("code",[t._v("CSS")]),t._v(" 文件会被丢进磁盘，反之丢进内存")]),t._v(" "),e("li",[t._v("内存使用率比较高的时候，文件优先进入磁盘")])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-6-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-6-日"}},[t._v("#")]),t._v(" 2021 年 10 月 6 日")]),t._v(" "),e("h3",{attrs:{id:"输入框自动填充样式优化-11-23-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#输入框自动填充样式优化-11-23-补"}},[t._v("#")]),t._v(" 输入框自动填充样式优化（11.23 补）")]),t._v(" "),e("p",[t._v("有时写表单时会发现谷歌会自动填充，并且样式还贼丑。可以试试下面的 css 代码，保证恢复如初")]),t._v(" "),e("div",{staticClass:"language-css extra-class"},[e("pre",{pre:!0,attrs:{class:"language-css"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("input:focus:-webkit-autofill,\ninput:-webkit-autofill")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("box-shadow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 0 0px 0 #fff inset"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-box-shadow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 0 0px 0 #fff inset "),e("span",{pre:!0,attrs:{class:"token important"}},[t._v("!important")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" background-color 500000s ease-in-out 50000s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"_2021-年-10-月-7-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-7-日"}},[t._v("#")]),t._v(" 2021 年 10 月 7 日")]),t._v(" "),e("h3",{attrs:{id:"unicode-与字符的相互转换-12-2-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unicode-与字符的相互转换-12-2-补"}},[t._v("#")]),t._v(" Unicode 与字符的相互转换（12.2 补）")]),t._v(" "),e("p",[e("code",[t._v("String.fromCharCode()")]),t._v("："),e("code",[t._v("ES5")]),t._v(" 语法，只能返回码点小于 "),e("code",[t._v("0xFFFF")]),t._v(" 的字符\n"),e("code",[t._v("String.fromCodePoint()")]),t._v("："),e("code",[t._v("ES6")]),t._v(" 语法，支持识别大于 "),e("code",[t._v("0xFFFF")]),t._v(" 的字符")]),t._v(" "),e("p",[e("code",[t._v("charCodeAt()")]),t._v("："),e("code",[t._v("ES5")]),t._v(" 语法，返回指定下标字符的十进制码点，同样只能小于 "),e("code",[t._v("65535")]),t._v(" 的字符\n"),e("code",[t._v("codePointAt()")]),t._v("："),e("code",[t._v("ES6")]),t._v(" 语法，返回指定下标的十进制码点，支持识别大于 "),e("code",[t._v("65535")]),t._v(" 的字符（需要使用 "),e("code",[t._v("tostring")]),t._v(" 方法转换成真正的十六进制码点）")]),t._v(" "),e("p",[t._v("为什么是 "),e("code",[t._v("FFFF")]),t._v("？因为 "),e("code",[t._v("JavaScript")]),t._v(" 内部，字符是以 "),e("code",[t._v("utf-16")]),t._v(" 的格式存储，每个字符站 "),e("code",[t._v("2")]),t._v(" 个字节，一个字节等于 "),e("code",[t._v("8")]),t._v(" 位，即共 "),e("code",[t._v("16")]),t._v(" 位（二进制），转换成十六进制就变成了 "),e("code",[t._v("FFFF")])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-8-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-8-日"}},[t._v("#")]),t._v(" 2021 年 10 月 8 日")]),t._v(" "),e("h3",{attrs:{id:"es6-新增的字符串方法-12-2-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#es6-新增的字符串方法-12-2-补"}},[t._v("#")]),t._v(" ES6 新增的字符串方法（12.2 补）")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("includes")]),t._v("：判断是否包含字符串")]),t._v(" "),e("li",[e("code",[t._v("startsWith")]),t._v("：判断是否以某字符串开头")]),t._v(" "),e("li",[e("code",[t._v("endsWith")]),t._v("：判断是否以某字符串结尾")]),t._v(" "),e("li",[e("code",[t._v("repeat")]),t._v("：重复字符串，参数为重复次数")]),t._v(" "),e("li",[e("code",[t._v("padStart")]),t._v("：参数为（"),e("code",[t._v("len")]),t._v(", "),e("code",[t._v("str")]),t._v("），指定某字符串以 "),e("code",[t._v("str")]),t._v(" 在头部补足到 "),e("code",[t._v("len")]),t._v(" 长度")]),t._v(" "),e("li",[e("code",[t._v("padEnd")]),t._v("：参数为（"),e("code",[t._v("len")]),t._v(", "),e("code",[t._v("str")]),t._v("），指定某字符串以 "),e("code",[t._v("str")]),t._v(" 在尾部补足到 "),e("code",[t._v("len")]),t._v(" 长度")]),t._v(" "),e("li",[e("code",[t._v("trimStart")]),t._v("：消除头部的空格")]),t._v(" "),e("li",[e("code",[t._v("trimEnd")]),t._v("：消除尾部的空格")]),t._v(" "),e("li",[e("code",[t._v("replaceAll")]),t._v("：参数为("),e("code",[t._v("searchValue")]),t._v(", "),e("code",[t._v("replacement")]),t._v(")，全局替换 "),e("code",[t._v("searchValue")]),t._v(" 为 "),e("code",[t._v("replacement")]),t._v("，返回一个新的字符串，不改变原先的字符串")])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-9-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-9-日"}},[t._v("#")]),t._v(" 2021 年 10 月 9 日")]),t._v(" "),e("h3",{attrs:{id:"es6-数值相关方法-12-2-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#es6-数值相关方法-12-2-补"}},[t._v("#")]),t._v(" ES6 数值相关方法（12.2 补）")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Math.pow")]),t._v(" 是计算某个数的 "),e("code",[t._v("n")]),t._v(" 平方，可以用 "),e("code",[t._v("**")]),t._v(" 代替")]),t._v(" "),e("li",[e("code",[t._v("Number.isFinite")]),t._v("：判断是否有限")]),t._v(" "),e("li",[e("code",[t._v("Number.isNaN")]),t._v("：判断是否为 "),e("code",[t._v("NaN")])]),t._v(" "),e("li",[e("code",[t._v("Number.parseInt()")]),t._v("：ES6 将该全局方法移植到 "),e("code",[t._v("number")]),t._v(" 对象，使逐步模块化")]),t._v(" "),e("li",[e("code",[t._v("Number.parseFloat()")]),t._v("：ES6 将该全局方法移植到 "),e("code",[t._v("number")]),t._v(" 对象，使逐步模块化")]),t._v(" "),e("li",[e("code",[t._v("Number.isInteger()")]),t._v("：判断是否为整数")])]),t._v(" "),e("p",[e("strong",[t._v("Tips")]),t._v(": "),e("code",[t._v("Number.isNaN()")]),t._v(" 跟传统的 "),e("code",[t._v("isNaN()")]),t._v(" 方法仍有点区别，后者会先调用 "),e("code",[t._v("Number()")]),t._v(" 方法转换成数值后，再执行 "),e("code",[t._v("isNaN()")]),t._v(" 方法（"),e("code",[t._v("isFinite()")]),t._v(" 方法同）")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isNaN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("NaN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isNaN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NaN"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nNumber"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isNaN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("NaN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nNumber"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isNaN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NaN"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\nNumber"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isNaN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])])]),e("h2",{attrs:{id:"_2021-年-10-月-10-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-10-日"}},[t._v("#")]),t._v(" 2021 年 10 月 10 日")]),t._v(" "),e("h3",{attrs:{id:"_0-1-0-2-问题-12-3-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-0-2-问题-12-3-补"}},[t._v("#")]),t._v(" 0.1 + 0.2 问题（12.3 补）")]),t._v(" "),e("p",[e("code",[t._v("JavaScript")]),t._v(" 采用 "),e("code",[t._v("IEEE754")]),t._v(" 标准，数值存储为 "),e("code",[t._v("64")]),t._v(" 位双精度格式，数值精度最多可以达到 "),e("code",[t._v("53")]),t._v(" 个二进制位（"),e("code",[t._v("1")]),t._v(" 个隐藏位与 "),e("code",[t._v("52")]),t._v(" 个有效位），超过了就会别丢弃。")]),t._v(" "),e("p",[e("code",[t._v("0.1")]),t._v(" 用二进制表示为："),e("code",[t._v("0.1.toString(2)")]),t._v(" -> "),e("code",[t._v("0.00011001100...")]),t._v(" "),e("code",[t._v("0.2")]),t._v(" 用二进制表示为："),e("code",[t._v("0.2.toString(2)")]),t._v(" -> "),e("code",[t._v("0.00110011001...")])]),t._v(" "),e("p",[t._v("相加得出 "),e("code",[t._v("0.010011001100...")]),t._v("，最终得出的值为 "),e("code",[t._v("0.30000000000000004 ≠ 0.3")])]),t._v(" "),e("p",[t._v("参考文档："),e("a",{attrs:{href:"https://draveness.me/whys-the-design-floating-point-arithmetic/",target:"_blank",rel:"noopener noreferrer"}},[t._v("为什么 0.1 + 0.2 = 0.300000004 🚀"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("如何解决？")]),t._v(" "),e("ul",[e("li",[t._v("转成整数再相加")]),t._v(" "),e("li",[t._v("使用 "),e("a",{attrs:{href:"https://real102.github.io/Blog/ugly/2021.10.html#number-epsilon-12-6-%E8%A1%A5",target:"_blank",rel:"noopener noreferrer"}},[t._v("Number.EPSILON 🚀"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-11-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-11-日"}},[t._v("#")]),t._v(" 2021 年 10 月 11 日")]),t._v(" "),e("h3",{attrs:{id:"changeorigin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changeorigin"}},[t._v("#")]),t._v(" changeOrigin")]),t._v(" "),e("p",[e("code",[t._v("proxy")]),t._v(" 代理的选项之一，默认值为 "),e("code",[t._v("false")]),t._v("，会保留主机头的来源。即后端获取到接口请求头中的 "),e("code",[t._v("host")]),t._v(" 值即为 "),e("code",[t._v("devServer")]),t._v(" 下 "),e("code",[t._v("host")]),t._v(" 的值")]),t._v(" "),e("p",[e("img",{attrs:{src:s(390),alt:"changeOrigin-false",title:"changeOrigin-false"}})]),t._v(" "),e("p",[t._v("若设置为 "),e("code",[t._v("true")]),t._v("，则 "),e("code",[t._v("host")]),t._v(" 值为 "),e("code",[t._v("proxy")]),t._v(" 下 "),e("code",[t._v("target")]),t._v(" 的值")]),t._v(" "),e("p",[e("img",{attrs:{src:s(391),alt:"changeOrigin-true",title:"changeOrigin-true"}})]),t._v(" "),e("p",[t._v("因此（"),e("span",{staticStyle:{color:"rgb(192, 52, 29)"}},[e("strong",[t._v("猜测")])]),t._v("）可以设置 "),e("code",[t._v("changeOrigin")]),t._v(" 为 "),e("code",[t._v("true")]),t._v("，绕过后端的 "),e("code",[t._v("host")]),t._v(" 检查")]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-12-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-12-日"}},[t._v("#")]),t._v(" 2021 年 10 月 12 日")]),t._v(" "),e("h3",{attrs:{id:"git-hook"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-hook"}},[t._v("#")]),t._v(" Git Hook")]),t._v(" "),e("p",[t._v("在提交代码到 "),e("code",[t._v("gitlab")]),t._v(" 时，增加一层 "),e("code",[t._v("hook")]),t._v(" 限制")]),t._v(" "),e("p",[e("code",[t._v("vue-cli")]),t._v(" 创建的项目会自动安装 "),e("code",[t._v("yorkie")]),t._v("（"),e("code",[t._v("fork")]),t._v(" 自 "),e("code",[t._v("husky")]),t._v("，但与后者不兼容）搭配 "),e("code",[t._v("lint-staged")]),t._v(" 即可实现在 "),e("code",[t._v("git add")]),t._v(" 时先 "),e("code",[t._v("run lint")]),t._v("（"),e("span",{staticStyle:{"font-size":"10px",color:"rgb(192, 52, 29)"}},[t._v("妈妈再也不用担心代码给人搞乱了")]),t._v(" 😎）")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"gitHooks"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pre-commit"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"*.{js,vue}"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue-cli-service lint"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("注意："),e("code",[t._v("lint-staged")]),t._v(" 需要 "),e("code",[t._v("node12.13.0+")]),t._v(" 的版本才能正常使用")]),t._v(" "),e("p",[t._v("问题：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("eslint")]),t._v(" 校验结果为 "),e("code",[t._v("warning")]),t._v(" 的也可以提交到 "),e("code",[t._v("gitlab")]),t._v("？")])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-13-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-13-日"}},[t._v("#")]),t._v(" 2021 年 10 月 13 日")]),t._v(" "),e("h3",{attrs:{id:"number-epsilon-12-6-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#number-epsilon-12-6-补"}},[t._v("#")]),t._v(" Number.EPSILON（12.6 补）")]),t._v(" "),e("p",[e("code",[t._v("ES6")]),t._v(" 在 "),e("code",[t._v("Number")]),t._v(" 对象上新增了一个极小的"),e("strong",[t._v("常量")]),t._v(" "),e("code",[t._v("Number.EPSILON")]),t._v("，它表示 "),e("code",[t._v("1")]),t._v(" 与大于 "),e("code",[t._v("1")]),t._v(" 的最小浮点数之间的差，相当于 "),e("code",[t._v("2")]),t._v(" 的 "),e("code",[t._v("-52")]),t._v(" 次方")]),t._v(" "),e("p",[e("code",[t._v("Number.EPSILON")]),t._v(" 一般用于设置“能够接受的误差范围”。比如，误差范围设为 "),e("code",[t._v("2")]),t._v(" 的 "),e("code",[t._v("-50")]),t._v(" 次方（即 "),e("code",[t._v("Number.EPSILON * Math.pow(2, 2)")]),t._v("），即如果两个浮点数的差小于这个值，我们就认为这两个浮点数相等。")]),t._v(" "),e("p",[t._v("因此，"),e("code",[t._v("0.1 + 0.2")]),t._v(" 的问题可以这样来解决：")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinErrorMargin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("left"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Math"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("abs")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("left "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" right"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" Number"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("EPSILON")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" Math"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinErrorMargin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),e("h2",{attrs:{id:"_2021-年-10-月-14-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-14-日"}},[t._v("#")]),t._v(" 2021 年 10 月 14 日")]),t._v(" "),e("h3",{attrs:{id:"math-对象的扩展-12-6-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#math-对象的扩展-12-6-补"}},[t._v("#")]),t._v(" Math 对象的扩展（12.6 补）")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Math.trunc()")]),t._v("：去除小数部分，返回整数部分")]),t._v(" "),e("li",[e("code",[t._v("Math.sign()")]),t._v("：判断一个数是正数、负数还是零")]),t._v(" "),e("li",[e("code",[t._v("Math.cbrt()")]),t._v("：计算立方根")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://es6.ruanyifeng.com/?search=%3F%3F&x=3&y=5#docs/number#Math-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95",target:"_blank",rel:"noopener noreferrer"}},[t._v("查看更多 🚀"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-15-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-15-日"}},[t._v("#")]),t._v(" 2021 年 10 月 15 日")]),t._v(" "),e("h3",{attrs:{id:"env-环境变量文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#env-环境变量文件"}},[t._v("#")]),t._v(" .env 环境变量文件")]),t._v(" "),e("p",[t._v("主要有"),e("code",[t._v(".env")]),t._v("、"),e("code",[t._v(".env.[env]")]),t._v("、"),e("code",[t._v(".env.[env].local")]),t._v(" 三种类型文件（"),e("code",[t._v("[env]")]),t._v(" 指各种环境），优先级从左到右递增，其中 "),e("code",[t._v(".env.[env].local")]),t._v(" 只在本地生效并且一般不提交到 "),e("code",[t._v("gitlab")]),t._v("，常用于多人合作开发时部署自己的联调环境")]),t._v(" "),e("p",[t._v("环境变量文件中，只有 "),e("code",[t._v("NODE_ENV")]),t._v(", "),e("code",[t._v("BASE_URL")]),t._v(" 和以 "),e("code",[t._v("VUE_APP_")]),t._v(" 开头的变量能通过 "),e("code",[t._v("webpack.DefinePlugin")]),t._v(" 静态地嵌入到代码中")]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-16-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-16-日"}},[t._v("#")]),t._v(" 2021 年 10 月 16 日")]),t._v(" "),e("h3",{attrs:{id:"箭头函数-12-10-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#箭头函数-12-10-补"}},[t._v("#")]),t._v(" 箭头函数（12.10 补）")]),t._v(" "),e("p",[t._v("对于普通函数来说，内部的 "),e("code",[t._v("this")]),t._v(" 指向函数运行时所在的对象，但是这一点对箭头函数不成立。它没有自己的 "),e("code",[t._v("this")]),t._v(" 对象，内部的 "),e("code",[t._v("this")]),t._v(" 就是定义时上层作用域中的 "),e("code",[t._v("this")]),t._v("。也就是说，箭头函数内部的 "),e("code",[t._v("this")]),t._v(" 指向是固定的，相比之下，普通函数的 "),e("code",[t._v("this")]),t._v(" 指向是可变的。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id:"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" id "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// id: 42")]),t._v("\n")])])]),e("h2",{attrs:{id:"_2021-年-10-月-17-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-17-日"}},[t._v("#")]),t._v(" 2021 年 10 月 17 日")]),t._v(" "),e("h3",{attrs:{id:"es6-尾调用优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#es6-尾调用优化"}},[t._v("#")]),t._v(" ES6 尾调用优化")]),t._v(" "),e("p",[t._v("函数调用会在内存形成一个“调用记录”，又称“调用帧”（"),e("code",[t._v("call frame")]),t._v("），保存调用位置和内部变量等信息。如果在函数 "),e("code",[t._v("A")]),t._v(" 的内部调用函数 "),e("code",[t._v("B")]),t._v("，那么在 "),e("code",[t._v("A")]),t._v(" 的调用帧上方，还会形成一个 "),e("code",[t._v("B")]),t._v(" 的调用帧。等到 "),e("code",[t._v("B")]),t._v(" 运行结束，将结果返回到 "),e("code",[t._v("A")]),t._v("，"),e("code",[t._v("B")]),t._v(" 的调用帧才会消失。如果函数 "),e("code",[t._v("B")]),t._v(" 内部还调用函数 "),e("code",[t._v("C")]),t._v("，那就还有一个 "),e("code",[t._v("C")]),t._v(" 的调用帧，以此类推。所有的调用帧，就形成一个“调用栈”（"),e("code",[t._v("call stack")]),t._v("）。")]),t._v(" "),e("p",[t._v("尾调用由于是函数的最后一步操作，所以不需要保留外层函数的调用帧，因为调用位置、内部变量等信息都不会再用到了，只要直接用内层函数的调用帧，取代外层函数的调用帧就可以了。这将大大节省内存。这就是“尾调用优化”的意义。")]),t._v(" "),e("p",[t._v("但需要注意："),e("strong",[t._v("尾调用优化仅在严格模式下开启")])]),t._v(" "),e("p",[t._v("参考文档："),e("a",{attrs:{href:"https://es6.ruanyifeng.com/?search=%3F%3F&x=3&y=5#docs/function#%E5%B0%BE%E9%80%92%E5%BD%92%E4%BC%98%E5%8C%96%E7%9A%84%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("尾调用优化的实现 🚀"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-18-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-18-日"}},[t._v("#")]),t._v(" 2021 年 10 月 18 日")]),t._v(" "),e("p",[t._v("------------------------------------------------------")]),t._v(" "),e("p",[t._v("大致过完一遍 vue-cli4 官方文档..."),e("br"),t._v("\n稍微熟悉了其中的配置..."),e("br"),t._v("\n但手写 chainWebpack 还是有点困难..."),e("br"),t._v("\n常用的插件也暂时没看..."),e("br"),t._v("\n留着过 webpack 的时候再看吧..."),e("br"),t._v("\n这个月好像断档的有点多..."),e("br"),t._v("\n得努力了..."),e("br"),t._v("\nhope...\n祈っている...\n🙏🙏🙏")]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-19-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-19-日"}},[t._v("#")]),t._v(" 2021 年 10 月 19 日")]),t._v(" "),e("h3",{attrs:{id:"从-0-开始搞-webpack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从-0-开始搞-webpack"}},[t._v("#")]),t._v(" 从 0 开始搞 webpack")]),t._v(" "),e("p",[t._v("需要选定一个入口文件作为内部依赖关系图的“开始”，默认输入路径为 "),e("code",[t._v("/dist")]),t._v("；所有需要使用到的文件都需要在入口文件中引用")]),t._v(" "),e("p",[t._v("各种常见类型文件对应处理 loader：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("文件类型")]),t._v(" "),e("th",[t._v("对应 loader")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("js")]),t._v(" "),e("td",[t._v("default")])]),t._v(" "),e("tr",[e("td",[t._v("css")]),t._v(" "),e("td",[t._v("style-loader、css-loader")])]),t._v(" "),e("tr",[e("td",[t._v("scss")]),t._v(" "),e("td",[t._v("node-sass、sass-loader")])]),t._v(" "),e("tr",[e("td",[t._v("less")]),t._v(" "),e("td",[t._v("less-loader")])]),t._v(" "),e("tr",[e("td",[t._v("png | jpg | gif | svg")]),t._v(" "),e("td",[t._v("file-loader | url-loader")])]),t._v(" "),e("tr",[e("td",[t._v("ttf | woff(2) | otf | eot")]),t._v(" "),e("td",[t._v("file-loader")])])])]),t._v(" "),e("ul",[e("li",[t._v("处理 "),e("code",[t._v("css")]),t._v(" 的 "),e("code",[t._v("loader")]),t._v(" 顺序为："),e("code",[t._v("css-loader")]),t._v(" -> "),e("code",[t._v("style-loader")])]),t._v(" "),e("li",[t._v("处理 "),e("code",[t._v("scss")]),t._v(" 文件需要使用 "),e("code",[t._v("sass-loader")]),t._v("，前提是需要安装 "),e("code",[t._v("node-sass")]),t._v(" 依赖")]),t._v(" "),e("li",[t._v("若要将小 "),e("code",[t._v("icon")]),t._v(" 转换成 "),e("code",[t._v("base64")]),t._v("，需要用到 "),e("code",[t._v("url-loader")])]),t._v(" "),e("li",[e("code",[t._v("url-loader")]),t._v(" 和 "),e("code",[t._v("file-loader")]),t._v(" 只需要使用其中一个即可处理图片文件")])]),t._v(" "),e("h3",{attrs:{id:"html-webpack-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#html-webpack-plugin"}},[t._v("#")]),t._v(" html-webpack-plugin")]),t._v(" "),e("p",[t._v("默认情况下 htmlwebpackplugin 会自动生成一个 HTML 文件，也可以自定义选定 template 文件")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("plugins"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("htmlwebpackplugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"测试title"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    filename"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index.html"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    template"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dianame"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"realpath/template.html"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("指定 "),e("code",[t._v("template")]),t._v(" 文件后，"),e("code",[t._v("htmlwebpackplugin")]),t._v(" 会自动注入相关的 css、js 文件等")]),t._v(" "),e("p",[t._v("如上，指定 "),e("code",[t._v("template")]),t._v(" 且设置了 title 参数后，如果 "),e("code",[t._v("template")]),t._v(" 文件中已经设置了标题，那么 title 将不生效，需要通过 "),e("code",[t._v("<%= htmlWebpackPlugin.options.title %>")]),t._v(" 获取到配置中的 title 参数")]),t._v(" "),e("p",[t._v("如果需要指定多入口文件：")]),t._v(" "),e("p",[t._v("需要 "),e("code",[t._v("new")]),t._v(" 多几个 "),e("code",[t._v("htmlwebpackplugin")]),t._v(" 对象，同时修改 "),e("code",[t._v("entry")]),t._v(" 和 "),e("code",[t._v("output")]),t._v(" 参数")]),t._v(" "),e("ul",[e("li",[t._v("更多相关 api 请查阅："),e("a",{attrs:{href:"https://github.com/jantimon/html-webpack-plugin#options",target:"_blank",rel:"noopener noreferrer"}},[t._v("html-webpack-plugin 🚀"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"clean-webpack-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clean-webpack-plugin"}},[t._v("#")]),t._v(" clean-webpack-plugin")]),t._v(" "),e("p",[t._v("每次构建项目之前清理 /dist 文件夹")]),t._v(" "),e("p",[t._v("使用时需要注意：")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const CleanWebpackPlugin  = require('clean-webpack-plugin') 错误")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CleanWebpackPlugin "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'clean-webpack-plugin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nplugins"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CleanWebpackPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n")])])]),e("p",[e("strong",[t._v("Otherwise")]),t._v("：可以借助 "),e("code",[t._v("node.js")]),t._v(" 的 "),e("code",[t._v("file")]),t._v(" 模块进行文件夹删除")]),t._v(" "),e("p",[e("strong",[t._v("思考")]),t._v("：new CleanWebpackPlugin() 放置的位置会不会影响到最终的效果？")]),t._v(" "),e("ul",[e("li",[t._v("更多相关配置可查阅："),e("a",{attrs:{href:"https://github.com/johnagan/clean-webpack-plugin#usage",target:"_blank",rel:"noopener noreferrer"}},[t._v("clean-webpack-plugin 🚀"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-20-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-20-日"}},[t._v("#")]),t._v(" 2021 年 10 月 20 日")]),t._v(" "),e("h3",{attrs:{id:"source-map"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#source-map"}},[t._v("#")]),t._v(" source-map")]),t._v(" "),e("p",[t._v("将编译后的代码映射回源代码，用于开发环境")]),t._v(" "),e("p",[t._v("相关 source-map 类型及对应打包速度如下：")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("+++")]),t._v(" 非常快速, "),e("code",[t._v("++")]),t._v(" 快速, "),e("code",[t._v("+")]),t._v(" 比较快, "),e("code",[t._v("o")]),t._v(" 中等, "),e("code",[t._v("-")]),t._v(" 比较慢, "),e("code",[t._v("--")]),t._v(" 慢")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("devtool")]),t._v(" "),e("th",[t._v("构建速度")]),t._v(" "),e("th",[t._v("重构速度")]),t._v(" "),e("th",[t._v("生产环境")]),t._v(" "),e("th",[t._v("品质（quality）")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("none")]),t._v(" "),e("td",[t._v("+++")]),t._v(" "),e("td",[t._v("+++")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("打包后的代码")])]),t._v(" "),e("tr",[e("td",[t._v("eval")]),t._v(" "),e("td",[t._v("+++")]),t._v(" "),e("td",[t._v("+++")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("生成后的代码")])]),t._v(" "),e("tr",[e("td",[t._v("cheap-eval-source-map")]),t._v(" "),e("td",[t._v("+")]),t._v(" "),e("td",[t._v("++")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("转换过的代码（仅限行）")])]),t._v(" "),e("tr",[e("td",[t._v("cheap-module-eval-source-map")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("++")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("原始源代码（仅限行）")])]),t._v(" "),e("tr",[e("td",[t._v("eval-source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("+")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("原始源代码")])]),t._v(" "),e("tr",[e("td",[t._v("cheap-source-map")]),t._v(" "),e("td",[t._v("+")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("转换过的代码（仅限行）")])]),t._v(" "),e("tr",[e("td",[t._v("cheap-module-source-map")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("原始源代码（仅限行）")])]),t._v(" "),e("tr",[e("td",[t._v("inline-cheap-source-map")]),t._v(" "),e("td",[t._v("+")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("转换过的代码（仅限行）")])]),t._v(" "),e("tr",[e("td",[t._v("inline-cheap-module-source-map")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("原始源代码（仅限行）")])]),t._v(" "),e("tr",[e("td",[t._v("source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("原始源代码")])]),t._v(" "),e("tr",[e("td",[t._v("inline-source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("原始源代码")])]),t._v(" "),e("tr",[e("td",[t._v("hidden-source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("原始源代码")])]),t._v(" "),e("tr",[e("td",[t._v("nosources-source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("无源代码内容")])])])]),t._v(" "),e("ul",[e("li",[t._v("相关使用场景可参考："),e("a",{attrs:{href:"https://v4.webpack.docschina.org/configuration/devtool#%E5%AF%B9%E4%BA%8E%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83",target:"_blank",rel:"noopener noreferrer"}},[t._v("devtool 🚀"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("相关测试效果用例："),e("a",{attrs:{href:"https://github.com/webpack/webpack/tree/main/examples/source-map",target:"_blank",rel:"noopener noreferrer"}},[t._v("source-map 🚀"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-21-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-21-日"}},[t._v("#")]),t._v(" 2021 年 10 月 21 日")]),t._v(" "),e("h3",{attrs:{id:"webpack-自动化编译"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-自动化编译"}},[t._v("#")]),t._v(" webpack 自动化编译")]),t._v(" "),e("p",[t._v("webpack 提供了以下三种自动化编译方案：")]),t._v(" "),e("ul",[e("li",[t._v("webpack watch mode")]),t._v(" "),e("li",[t._v("webpack-dev-server")]),t._v(" "),e("li",[t._v("webpack-dev-middleware")])]),t._v(" "),e("h4",{attrs:{id:"webpack-watch-mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-watch-mode"}},[t._v("#")]),t._v(" webpack watch mode")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"script"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"watch"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack --watch"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("实现原理大致可以理解为："),e("code",[t._v("webpack")]),t._v(" 监控着项目（依赖图）中的所有文件，当文件发生改变时，自动重新编译代码，无需手动运行编译。")]),t._v(" "),e("p",[t._v("这种方法存在一个缺点，那就是每次重新编译，都需要手动刷新浏览器才会更新（"),e("code",[t._v("--watch")]),t._v(" 会耗费较高的电脑性能吧？）")]),t._v(" "),e("h4",{attrs:{id:"webpack-dev-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server"}},[t._v("#")]),t._v(" webpack-dev-server")]),t._v(" "),e("p",[t._v("安装 "),e("code",[t._v("webpack-dev-server")]),t._v(" 依赖后即可跑项目（"),e("code",[t._v("webpack")]),t._v(" 官网指南下的配置 "),e("code",[t._v("contentBase")]),t._v(" 不可用~）")]),t._v(" "),e("p",[e("code",[t._v("webpack-dev-server")]),t._v(" 在编译之后不会写入到任何输出文件，而是将 "),e("code",[t._v("bundle")]),t._v(" 文件保留在内存中，然后将它们 "),e("code",[t._v("serve")]),t._v(" 到 "),e("code",[t._v("server")]),t._v(" 中，相当于部署在 "),e("code",[t._v("server")]),t._v(" 的根路径下")]),t._v(" "),e("p",[t._v("相关原理内容较多，可参考以下链接：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://v4.webpack.docschina.org/configuration/dev-server/#devserver",target:"_blank",rel:"noopener noreferrer"}},[t._v("devServer 配置 🚀"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1742015",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-dev-server 运行原理 🚀"),e("OutboundLink")],1)])]),t._v(" "),e("h4",{attrs:{id:"webpack-dev-middleware"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-middleware"}},[t._v("#")]),t._v(" webpack-dev-middleware")]),t._v(" "),e("p",[e("code",[t._v("webpack-dev-middleware")]),t._v(" 是一个封装器("),e("code",[t._v("wrapper")]),t._v(")，它可以把 "),e("code",[t._v("webpack")]),t._v(" 处理过的文件发送到一个 "),e("code",[t._v("server")]),t._v("。 "),e("code",[t._v("webpack-dev-server")]),t._v(" 在内部使用了它，它也可以作为一个单独的 "),e("code",[t._v("package")]),t._v(" 来使用，以便根据需求进行更多自定义设置。")]),t._v(" "),e("p",[t._v("官方文档地址：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://v4.webpack.docschina.org/guides/development/#%E9%80%89%E6%8B%A9%E4%B8%80%E4%B8%AA%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack 自动化编译 🚀"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-22-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-22-日"}},[t._v("#")]),t._v(" 2021 年 10 月 22 日")]),t._v(" "),e("h3",{attrs:{id:"split-chunk-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#split-chunk-plugin"}},[t._v("#")]),t._v(" split-chunk-plugin")]),t._v(" "),e("p",[t._v("比较通用的性能优化方案之一，可提升重复构建打包速度及页面访问速度。常用属性及其配置如下：")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  optimization"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    splitChunk"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      chunks"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"all"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包的模块是按需引入、直接引入、还是全部都用于优化，对应的值为async initial all")]),t._v("\n      minSize"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 抽离公共包的最小size")]),t._v("\n      maxSize"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 最大size")]),t._v("\n      minChunks"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 某个模块至少被多少代码块引用，才会被提取成新的chunk")]),t._v("\n      maxAsyncRequests"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分割后，按需加载的代码块最多允许的并行请求数，在webpack5里默认值变为6")]),t._v("\n      maxInitialRequests"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分割后，入口代码块最多允许的并行请求数，在webpack5里默认值变为4")]),t._v("\n      automaticNameDelimiter"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用于生成的名称的分隔符")]),t._v("\n      automaticNameMaxLength"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生成的块的名称字符的最大值")]),t._v("\n      name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 生成块的名称，为true时，将根据块和缓存组密钥自动生成名称")]),t._v("\n      cacheGroups"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将体积较大的包单独分离出来，减少vendor的体积，加快首屏速度")]),t._v("\n        vendors"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chunk-vendors"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// enforce默认为false下不能直接设置name值，否则打包会失败")]),t._v("\n          test"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token regex"}},[e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\\\/]node_modules[\\\\/]")]),e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          priority"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表示缓存的优先级；")]),t._v("\n          reuseExistingChunk"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表示是否使用缓存")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("简单介绍其中的几个重要参数：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("minSize")]),t._v("：当公共组件/包的大小超过 "),e("code",[t._v("minSize")]),t._v(" 值时，才会抽离成单独的包")]),t._v(" "),e("li",[e("code",[t._v("minChunks")]),t._v("：当某个组件/包的引用次数超过 "),e("code",[t._v("minChunks")]),t._v(" 时，会抽离成单独的包")]),t._v(" "),e("li",[e("code",[t._v("reuseExistingChunk")]),t._v("：当包未更改时是否直接使用之前的包")])]),t._v(" "),e("p",[e("strong",[t._v("Warning")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("minChunks")]),t._v(" 好像不生效？")]),t._v(" "),e("li",[e("code",[t._v("minSize")]),t._v(" 和 "),e("code",[t._v("minChunks")]),t._v(" 同时触发时才会拆包还是触发其中一个条件即拆包？")])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-23-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-23-日"}},[t._v("#")]),t._v(" 2021 年 10 月 23 日")]),t._v(" "),e("h3",{attrs:{id:"数组新增的方法-12-15-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数组新增的方法-12-15-补"}},[t._v("#")]),t._v(" 数组新增的方法（12.15 补）")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("includes")]),t._v("：表示某个数组是否包含给定的值，第二个参数为开始搜索的起始位置")]),t._v(" "),e("li",[e("code",[t._v("flat")]),t._v("：表示将嵌套的数组“拉平”，但默认只会“拉平”一层")]),t._v(" "),e("li",[e("code",[t._v("at")]),t._v("：接受一个整数作为参数，返回数组对应位置的成员")])]),t._v(" "),e("h3",{attrs:{id:"对象新增的方法-12-15-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对象新增的方法-12-15-补"}},[t._v("#")]),t._v(" 对象新增的方法（12.15 补）")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Object.is")]),t._v(" ：用于判断两个值是否相等，与 "),e("code",[t._v("===")]),t._v(" 相似，但 "),e("code",[t._v("+0")]),t._v(" 不等于 "),e("code",[t._v("-0")]),t._v(" 以及 "),e("code",[t._v("NaN")]),t._v(" 等于自身")]),t._v(" "),e("li",[e("code",[t._v("Object.assign")]),t._v("：用于对象的合并，将源对象的所有可枚举属性复制到目标对象")]),t._v(" "),e("li",[e("code",[t._v("Object.fromEntries")]),t._v("：用于将键值对数组转换为对象")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromEntries")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"baz"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// { foo: "bar", baz: 42 }')]),t._v("\n")])])]),e("h2",{attrs:{id:"_2021-年-10-月-24-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-24-日"}},[t._v("#")]),t._v(" 2021 年 10 月 24 日")]),t._v(" "),e("h3",{attrs:{id:"super-关键字-12-15-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#super-关键字-12-15-补"}},[t._v("#")]),t._v(" super 关键字（12.15 补）")]),t._v(" "),e("p",[e("code",[t._v("ES6")]),t._v(" 新增了一个关键字 "),e("code",[t._v("super")]),t._v("，指向当前对象的原型对象。与之相类似的是 "),e("code",[t._v("this")]),t._v(" 关键字，指向函数所在的当前对象")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proto "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"world"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" proto"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nobj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "hello"')]),t._v("\n")])])]),e("p",[e("strong",[t._v("注意")]),t._v("，"),e("code",[t._v("super")]),t._v(" 关键字表示原型对象时，只能用在对象的方法之中，用在其他地方都会报错。")]),t._v(" "),e("h3",{attrs:{id:"object-setprototypeof-12-15-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#object-setprototypeof-12-15-补"}},[t._v("#")]),t._v(" Object.setPrototypeOf（12.15 补）")]),t._v(" "),e("p",[e("code",[t._v("Object.setPrototypeOf")]),t._v(" 方法可将一个指定对象的原型到另外一个对象或 "),e("code",[t._v("null")]),t._v("，是修改对象原型更合适的方法")]),t._v(" "),e("p",[t._v("注意：由于现代 "),e("code",[t._v("JavaScript")]),t._v(" 引擎优化属性访问所带来的特性的关系，更改对象的 "),e("code",[t._v("[[Prototype]]")]),t._v(" 在各个浏览器和 "),e("code",[t._v("JavaScript")]),t._v(" 引擎上都是一个很慢的操作。")]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-25-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-25-日"}},[t._v("#")]),t._v(" 2021 年 10 月 25 日")]),t._v(" "),e("h3",{attrs:{id:"浏览器渲染"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器渲染"}},[t._v("#")]),t._v(" 浏览器渲染")]),t._v(" "),e("p",[t._v("收录一些关键字段")]),t._v(" "),e("ul",[e("li",[t._v("Chrome 浏览器，渲染引擎产生多个实例，对于每一个 tab 都是一个独立的过程（其他浏览器不同）")]),t._v(" "),e("li",[t._v("页面的渲染是一个渐进的过程，为了更好的用户体验，渲染引擎将尽可能在浏览器中显示内容，因此会提前解析部分内容和显示，剩下的内容从网络返回回来再继续解析（通过浏览器 "),e("code",[t._v("network")]),t._v(" 面板下打开 "),e("code",[t._v("Capture screenshots")]),t._v("可看出）")]),t._v(" "),e("li",[t._v("词法分析是将输入信息切成小令牌(token)的过程。小令牌是语言词汇，即有效建筑模块的集合。")]),t._v(" "),e("li",[t._v("非可视化元素将不会插入到渲染树中。如 "),e("code",[t._v("head")]),t._v(" 元素、"),e("code",[t._v("display：none")]),t._v(" 的元素；但如 "),e("code",[t._v("opacity：0")]),t._v(" 的元素还会插入")])]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-26-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-26-日"}},[t._v("#")]),t._v(" 2021 年 10 月 26 日")]),t._v(" "),e("h3",{attrs:{id:"shim-预置依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shim-预置依赖"}},[t._v("#")]),t._v(" shim 预置依赖")]),t._v(" "),e("ul",[e("li",[t._v("当需要全局引入依赖的时候（虽然不推荐，但是真的香）如 lodash、jQuery")]),t._v(" "),e("li",[t._v("当需要对某些依赖进行 polyfill 时")])]),t._v(" "),e("p",[t._v("以上能力都是基于 ProvidePlugin 实现")]),t._v(" "),e("p",[t._v("贴个文档地址吧：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://v4.webpack.docschina.org/guides/shimming/",target:"_blank",rel:"noopener noreferrer"}},[t._v("shim 预置依赖 🚀"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://v4.webpack.docschina.org/plugins/provide-plugin/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ProvidePlugin 🚀"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"webpack-构建性能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-构建性能"}},[t._v("#")]),t._v(" webpack 构建性能")]),t._v(" "),e("p",[t._v("webpack 官方提供的构建优化最佳实践："),e("a",{attrs:{href:"https://v4.webpack.docschina.org/guides/build-performance/",target:"_blank",rel:"noopener noreferrer"}},[t._v("构建性能 🚀"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-27-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-27-日"}},[t._v("#")]),t._v(" 2021 年 10 月 27 日")]),t._v(" "),e("h3",{attrs:{id:"symbol-12-16-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#symbol-12-16-补"}},[t._v("#")]),t._v(" Symbol（12.16 补）")]),t._v(" "),e("p",[e("code",[t._v("ES6")]),t._v(" 引入的一种新的原始数据类型（"),e("code",[t._v("JavaScript")]),t._v(" 第七种数据类型），表示独一无二的值。")]),t._v(" "),e("p",[e("code",[t._v("Symbol")]),t._v(" 可以接收一个字符串作为参数，如果是对象，那么会调用其 "),e("code",[t._v("tostring")]),t._v(" 方法")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" s "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Symbol")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" s "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "symbol"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"abc"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sym "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Symbol")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsym "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Symbol(abc)")]),t._v("\n")])])]),e("p",[e("code",[t._v("Symbol")]),t._v(" 作为属性名，遍历对象的时候，只能通过 "),e("code",[t._v("Object.getOwnPropertySymbols()")]),t._v(" 方法，可以获取指定对象的所有 "),e("code",[t._v("Symbol")]),t._v(" 属性名。该方法返回一个数组，成员是当前对象的所有用作属性名的 "),e("code",[t._v("Symbol")]),t._v(" 值。")]),t._v(" "),e("p",[e("code",[t._v("Symbol")]),t._v(" 的其他方法：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Symbol.for()")]),t._v("：替换或新建一个新的 "),e("code",[t._v("Symbol")]),t._v(" 值")]),t._v(" "),e("li",[e("code",[t._v("Symbol.keyFor()")]),t._v("：查找并返回一个已登记的 "),e("code",[t._v("Symbol")]),t._v(" 类型值的 "),e("code",[t._v("key")])])]),t._v(" "),e("p",[t._v("其他相关方法可查阅"),e("a",{attrs:{href:"https://es6.ruanyifeng.com/?search=%3F%3F&x=3&y=5#docs/symbol#%E5%86%85%E7%BD%AE%E7%9A%84-Symbol-%E5%80%BC",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档 🚀"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-28-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-28-日"}},[t._v("#")]),t._v(" 2021 年 10 月 28 日")]),t._v(" "),e("h3",{attrs:{id:"reflect-ownkeys-12-16-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reflect-ownkeys-12-16-补"}},[t._v("#")]),t._v(" Reflect.ownKeys（12.16 补）")]),t._v(" "),e("p",[t._v("可以返回所有类型的键名，包括常规键名和 Symbol 键名")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Symbol")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my_key"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("enum")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  nonEnum"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nReflect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ownKeys")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//  ["enum", "nonEnum", Symbol(my_key)]')]),t._v("\n")])])]),e("h2",{attrs:{id:"_2021-年-10-月-29-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-29-日"}},[t._v("#")]),t._v(" 2021 年 10 月 29 日")]),t._v(" "),e("h3",{attrs:{id:"set-12-21-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#set-12-21-补"}},[t._v("#")]),t._v(" Set（12.21 补）")]),t._v(" "),e("p",[e("code",[t._v("ES6")]),t._v(" 提供的新数据结构 "),e("code",[t._v("Set")]),t._v("，类似于数组，但值都是唯一的。（在 "),e("code",[t._v("Set")]),t._v(" 中认为 "),e("code",[t._v("NaN")]),t._v(" 等于其本身，与 "),e("code",[t._v("===")]),t._v(" 不一样）")]),t._v(" "),e("p",[t._v("相关实例属性和方法")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("size")]),t._v("：返回总数")]),t._v(" "),e("li",[e("code",[t._v("add")]),t._v("：添加某个值")]),t._v(" "),e("li",[e("code",[t._v("delete")]),t._v("：删除某个值")]),t._v(" "),e("li",[e("code",[t._v("has")]),t._v("：判断是否存在")]),t._v(" "),e("li",[e("code",[t._v("clear")]),t._v("：清除所有值")]),t._v(" "),e("li",[e("code",[t._v("forEach")]),t._v("、"),e("code",[t._v("keys")]),t._v("、"),e("code",[t._v("values")]),t._v("、"),e("code",[t._v("entries")]),t._v("：遍历方法")])]),t._v(" "),e("h3",{attrs:{id:"weakset-12-21-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#weakset-12-21-补"}},[t._v("#")]),t._v(" WeakSet（12.21 补）")]),t._v(" "),e("p",[e("code",[t._v("WeakSet")]),t._v(" 与 "),e("code",[t._v("Set")]),t._v(" 相似，但有以下两个区别：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("WeakSet")]),t._v(" 的成员只能是对象（任何具有 "),e("code",[t._v("Iterable")]),t._v(" 接口的对象，都可以作为 "),e("code",[t._v("WeakSet")]),t._v(" 的参数）")]),t._v(" "),e("li",[e("code",[t._v("WeakSet")]),t._v(" 中的对象都是弱引用，即垃圾回收机制不考虑 "),e("code",[t._v("WeakSet")]),t._v(" 对该对象的引用")]),t._v(" "),e("li",[e("code",[t._v("WeakSet")]),t._v(" 不能遍历")])]),t._v(" "),e("p",[t._v("相关方法：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("has")]),t._v("：返回是否存在")]),t._v(" "),e("li",[e("code",[t._v("add")]),t._v("：添加某个成员")]),t._v(" "),e("li",[e("code",[t._v("delete")]),t._v("：删除某个成员")])]),t._v(" "),e("p",[e("code",[t._v("WeakSet")]),t._v(" 的一个用处，是储存 "),e("code",[t._v("DOM")]),t._v(" 节点，而不用担心这些节点从文档移除时，会引发内存泄漏")]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-30-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-30-日"}},[t._v("#")]),t._v(" 2021 年 10 月 30 日")]),t._v(" "),e("h3",{attrs:{id:"map-12-22-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#map-12-22-补"}},[t._v("#")]),t._v(" Map（12.22 补）")]),t._v(" "),e("p",[e("code",[t._v("ES6")]),t._v(" 提供的新数据结构 "),e("code",[t._v("Map")]),t._v("，类似于对象，是键值对的集合，但“键”的范围不限于字符串。相关增删查的方法同 "),e("code",[t._v("Set")]),t._v("（注意一点："),e("code",[t._v("Map")]),t._v(" 的遍历顺序就是插入的顺序）")]),t._v(" "),e("p",[e("code",[t._v("Map")]),t._v(" 转对象")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("strMapToObj")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("strMap")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" strMap"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    obj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" v\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" obj\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"weakmap-12-22-补"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#weakmap-12-22-补"}},[t._v("#")]),t._v(" WeakMap（12.22 补）")]),t._v(" "),e("p",[e("code",[t._v("WeakMap")]),t._v(" 结构与 "),e("code",[t._v("Map")]),t._v(" 结构类似，也是用于生成键值对的集合，但是有以下两点不同：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("WeakMap")]),t._v(" 只接受对象为键名")]),t._v(" "),e("li",[e("code",[t._v("WeakMap")]),t._v(" 的"),e("strong",[t._v("键名")]),t._v("所指向的对象，不计入垃圾回收机制")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" e1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" e2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" arr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("e1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo 元素"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("e2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar 元素"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("上面代码中，"),e("code",[t._v("e1")]),t._v(" 和 "),e("code",[t._v("e2")]),t._v(" 是两个对象，我们通过 "),e("code",[t._v("arr")]),t._v(" 数组对这两个对象添加一些文字说明。这就形成了 "),e("code",[t._v("arr")]),t._v(" 对 "),e("code",[t._v("e1")]),t._v(" 和 "),e("code",[t._v("e2")]),t._v(" 的引用。一旦不再需要这两个对象，我们就必须手动删除这个引用，否则垃圾回收机制就不会释放 "),e("code",[t._v("e1")]),t._v(" 和 "),e("code",[t._v("e2")]),t._v(" 占用的内存。")]),t._v(" "),e("h2",{attrs:{id:"_2021-年-10-月-31-日"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-10-月-31-日"}},[t._v("#")]),t._v(" 2021 年 10 月 31 日")]),t._v(" "),e("h3",{attrs:{id:"理解构造函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#理解构造函数"}},[t._v("#")]),t._v(" 理解构造函数")]),t._v(" "),e("p",[t._v("可以理解为一个工厂，用于批量生产/初始化具有某些“特定功能”的对象，即拥有特定的属性和方法")]),t._v(" "),e("ul",[e("li",[t._v("构造函数的首字母一定要大写")]),t._v(" "),e("li",[t._v("需要配合 "),e("code",[t._v("new")]),t._v(" 使用才有意义")])]),t._v(" "),e("p",[e("code",[t._v("new")]),t._v(" 的用处：")]),t._v(" "),e("ul",[e("li",[t._v("在内存中创建一个新的对象")]),t._v(" "),e("li",[t._v("让 "),e("code",[t._v("this")]),t._v(" 指向这个对象")]),t._v(" "),e("li",[t._v("执行构造函数的代码（通常是赋予属性、方法）")]),t._v(" "),e("li",[t._v("返回这个新对象")])])])}),[],!1,null,null,null);a.default=v.exports}}]);