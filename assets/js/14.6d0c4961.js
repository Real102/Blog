(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{377:function(t,a,s){t.exports=s.p+"assets/img/timing.f1faf936.png"},378:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAABcCAYAAAB+6068AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAshSURBVHhe7Z3PSxzLHsXnX9CVcSMGAgZBMAQSLygXMRuFgBKeJCBcklwIBoIXHwOPxBeIXlDuRRHEx4UBYWBgQAYFmWyCCzfexYNZunTr0sVbzPL7qn9OTc+3q3p6xqasPh84kEx/T/VMpedMdXV1p0AAAACsAIEOAACWgEAHAABLQKADAIAlINABAMASEOgAAGAJCHQAALAEBDoAAFgCAh0AACwBgQ4AAJaAQAcAAEtAoAMAgCUg0AEAwBIQ6AAAYAkIdAAAsAQEOgAAWAICHQAALAGBDgAAloBABwAAS0CgAwCAJSDQAQDAEhDoAABgCQh0AACwBAQ6AABYAgIdAAAsAYEOAACWgEAHAABLMC/QC+ItQRAE3TcZgBnvQsaQjgEAgMQg0GMIOub7xf2QCq7eRKng6k2UDs5jolRw9SYqjyDQY0CgZy8VXL2J0sF5TJQKrt5E5REEegwI9Oylgqs3UTo4j4lSwdWbqDyCQI8BgZ69VHD1JkoH5zFRKrh6E5VHEOgxINCzlwqu3kTp4DwmSgVXb6LyCAI9BgR69lLB1ZsoHZzHRKng6k1UHkGgx5Ag0K+/rVFpt85uUymtj4526OC3Q7rltqmI1taq1Njeo3NXh3RV+dFZw+m0Tle7gW+PGkd1anJ1USX1qYjW1k7a2rz8K+F7uWufDs4jqXlcp1uh5hm/PU5pfVTzfLe1yOsqpLpgv7E6ldrM2pdHEOgxqAL9uEyVl+OipEBLxRO+hlNa33cRiMVFmhK+wvQG3XA1KoIaZ/+LT2jIaSeioYllqh1J7ck6O6HztzM0yvgKwzN0sB/z49StT0VQU96h9acPOtuLazNrnw65NqLm7nua9Nve2uVrOKX10ekhbT30P8vKYfs2FaF/j9b9/caJPc6z8uUR0QcmcD8CvVqmeiSgEgVzWt+ZCPJvq7Q03PKlD/QyHYx5bYyOLdD6hw2qb29S6fUizQftD8xRpSPU61R/OehuHxp5Th9fF6m2vUOVD8v0ZsR7vVAYF0ESHeWn8KkIakR4FQqD9PjnZToo7ojRstdmq4/G6c8Dv1ZWVj4dctttqlLpadBmN8Gc1ifOFD89D32pAr28QUuOd2CEZiefsFr/yhznWfnyiOgfEzA80MtUejbSGtkOi4PHH9mogzmt74KuxJft8YDvKzyg2YlH3p9TB7oYjQ08p61tZr81EfbT3r6GXu5EpnROqDI9Th+LZWaqR4T2K/99ja3RVdu2FD4VQU3pkM4r/p9lnYnPEATbQvQzCGXl0yG3Ien262LbmVPSYE7ro+oOfQyPL6E0gX7kB2zcMRmnrHx5RPSPCRge6CIMnQNJjAzevN2jmzMnrMTfxWvqYE7ru6DLFafOGRmuuoFyU5xxfekD/YSu46ZUHImRqBcM7+mybVtd+BRz7MGoqTBDlbK8LYVPRdTPyAk3L6Cin0Gtvvp0SP5QtT1ad8L14QwtTTrtJQzmtL7vP+j8lXOW9IiWpp94nyFNoLtnL8LbbTBn5csjon9MwPBAr9LllxLdhBdckgZzWp84Hd7dpEa5FYi9B7pGscGsk/+jJdTN6T7rU9HhZxR84bsM5r76dMh+Vz/o8rVztjJIH7+WwuND35dpfRfU/GPFnXMfEmcWjeC46iXQo16dsvLlEdE/JmB4oEeVPJjbldaXQaCXijTrtN9tqIUXqrr8IeB8KqJ+RmEfcVMnCvXVp0PyOwrDdXZT/Lu2jg9dMKf1Ue2QPjvTfgNzVBP9Hn6GFIF+86853qtRZr48IvrHBBDoGt11oIcXyF5sdhVqzd+Xvamah6vUYLbHifWpkLysjve8oHIutO4rpnqi6rdPh9yGFK7exeiEwZzWJ43q3xSr7ms9BbrvXfqn11ZSZebLI6J/TACBrtGdBvrRBr1xL5AN0vrvXYSaCJYtf+XM/KcuvpxxPhWy//REWke/SaVXc94F5AFnlYPifWTh0xHW1qm+4Mxjt8I1WTCn9bUuoA7NbtC1/1ovgd741b+w3aYHNDW9SAfcxXdfmfnyiOgTE0Cga3RngS7C/J2/BG+0Y4WLQscilCf8ZYkTa8lH5yqfCrkunO9vaXZ2lWr/iVlLHigLnw6/7ro41xGuSYI5rS/80Y4sTe0l0L0L9/EaFWd7rffYUma+PCL6wQQQ6BrdRaBff1mmWXdkXqApEebcl4jT7f5auA576NkqNaJ3GcZI61Mh14kfhdLbVfrT1TK9mxwP1/iPTq/SZVWqzdqnQ9Q09997N4kNLFK9bZ/qYE7ro9OSf0bkXEBt/xHqJdA5NaultpvXpn4pJboT9058eUT0gQkg0DXqa6CfVanm37HqnLK++41bK86pLk57n/tfnkGafb1DN4luNU/oUxGtjeq4TKVZb+RfGHtPjZhbxzvUb5+OcLqJuxlLEcxpfc68+Yr3bz0lQjsakv0OdE+tfRYK4sfnmKvh1GdfHhF9YAIIdI36FujVPfrsz18Xxhap8lfCOfOaFGDODUp/aKYpAnXjU8HVRxWsyxb7io5EleqnT8X/rsK+mP9QYp5FIvrqJ6+9z99arzelPuzKJ4Lu6pM3RVN4tkaNquzxdPXJP67+sdN63flxUhHtB07VTXrntCt+wLf2me1x6qcvj4g+MAEEukZ9CfQjcdD7Ux5TLzfpOumDnJzRYTDv7UyVJB05detTwdV3yLlhxvt8Q+LUm6/h1Eefir+33NruNEOVfwfr3buRsxxU9D+7TS332FTR0Q+cWvuOnddn1UdfHhGf3wQQ6Br1HujVcN/cqXe8gqVuIrTaLsTplMKngqvvUCtgJ39NF8w9+1T894B9/ois4HEPo2PBa8tU31xrq+HE+iolOojUdSh4rs7wePia+zwUFR39wCi8z+AR/4ycOPXTl0dEH5gAAl2jXgO9ub3inXo/LXYRykKlIs07voFlOk948dNVGp8Krj4qaQqku+WXffTpiLbRptbx0d3oNK3vrubQL+j2y4LX7sAKnSe9LiHUV18eEX1gAgh0jXoN9MYv/kgs+sXVKLw7L26/MUrlU+HWiBHn4gY1uNUobRcppZuVXGXo0yG30aH7FOhlqhdLdMtM2918WwlXT3Xen5ChL4+IPjABBLpGvQW6czOKt99Ekr7c/M0cMZLeWyqfCrfdYJ50kB5PLNC6v5Rw/UVryqEwvMA81z1Dn4629qO6T4Hu943zKNsXy60lnWOtZ8fzS2Ez9OUR0Q8mgEDXqLdAb+03kaQvt+5mjjZJ7y2VT4Xbbp0u3/p3aUbbEF/0+VcbdMVeeM3Qp0Ou7dB9CvQqVX6WHg0taWhkjra+xC2FzdCXR0R/mMA9C3QDpYKrN1EqIrXuf0V2VKLzg6q71C7pRd479+ngPCZKhVx36ix19P57Pue/Frw9TngNIgtfHkGgx4BAz14quHoTpYPzmCgVXL2JyiMI9BgQ6NlLBVdvonRwHhOlgqs3UXkEgR4DAj17qeDqTZQOzmOiVHD1JiqPINBjQKBnLxVcvYnSwXlMlAqu3kTlEQR6DAj07KWCqzdROjiPiVLB1ZuoPIJAj8HpGAiCoPsmAzDjXQAAAOgZBDoAAFgCAh0AACwBgQ4AAJaAQAcAAEtAoAMAgCUg0AEAwBIQ6AAAYAkIdAAAsAQEOgAAWAICHQAALAGBDgAAloBABwAAS0CgAwCAJSDQAQDAEhDoAABgCQh0AACwBAQ6AABYAgIdAAAsAYEOAACWgEAHAABLQKADAIAlINABAMASEOgAAGAJCHQAALAEBDoAAFgCAh0AACwBgQ4AAJaAQAcAAEtAoAMAgCUg0AEAwAqI/g9Q3aIkSk+poAAAAABJRU5ErkJggg=="},454:function(t,a,s){"use strict";s.r(a);var n=s(45),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"笔记"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#笔记"}},[t._v("#")]),t._v(" 笔记")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-1-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-1-日"}},[t._v("#")]),t._v(" 2021 年 11 月 1 日")]),t._v(" "),n("h3",{attrs:{id:"快速删除-node-modules-1-12-补"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#快速删除-node-modules-1-12-补"}},[t._v("#")]),t._v(" 快速删除 node_modules（1.12 补）")]),t._v(" "),n("p",[t._v("全局安装 "),n("code",[t._v("rimraf")]),t._v(" 插件")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("cnpm "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" rimraf -g\n")])])]),n("p",[t._v("然后输入下面一句命令即可：")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("rimraf node_modules\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 直接输入 node_modules 即可")]),t._v("\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-2-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-2-日"}},[t._v("#")]),t._v(" 2021 年 11 月 2 日")]),t._v(" "),n("h3",{attrs:{id:"vscode-调试-vue-项目-3-9-补"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vscode-调试-vue-项目-3-9-补"}},[t._v("#")]),t._v(" Vscode 调试 Vue 项目（3.9 补）")]),t._v(" "),n("p",[t._v("基本流程可以从 "),n("code",[t._v("vue")]),t._v(" 官网的 "),n("code",[t._v("Cookbook")]),t._v(" 可以查到，这里记录一下需要注意的点：需要开启"),n("code",[t._v("source-map")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("configureWebpack")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("config")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("devtool "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"source-map"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" config\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("参考地址：")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://cn.vuejs.org/v2/cookbook/debugging-in-vscode.html#%E4%BB%8E-VS-Code-%E5%90%AF%E5%8A%A8%E5%BA%94%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cn.vuejs.org/v2/cookbook/debugging-in-vscode.html#从-VS-Code-启动应用"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/post/7071219293249077256#heading-1",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.cn/post/7071219293249077256#heading-1"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-3-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-3-日"}},[t._v("#")]),t._v(" 2021 年 11 月 3 日")]),t._v(" "),n("h3",{attrs:{id:"取消-watch-监听"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#取消-watch-监听"}},[t._v("#")]),t._v(" 取消 watch 监听")]),t._v(" "),n("p",[n("code",[t._v("vue")]),t._v(" 中的 "),n("code",[t._v("watch")]),t._v(" 监听是可以取消的，使用方式如下：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" someWatch "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$watch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"attr"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" options "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("someWatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 取消监听")]),t._v("\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-4-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-4-日"}},[t._v("#")]),t._v(" 2021 年 11 月 4 日")]),t._v(" "),n("h3",{attrs:{id:"fixed-祖先"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fixed-祖先"}},[t._v("#")]),t._v(" fixed 祖先")]),t._v(" "),n("p",[n("code",[t._v("position:fixed")]),t._v(" 的元素会被移出正常文档流，并不为元素预留空间，而是通过指定元素相对于屏幕视口（"),n("code",[t._v("viewport")]),t._v("）的位置来指定元素位置。元素的位置在屏幕滚动时不会改变。"),n("code",[t._v("fixed")]),t._v(" 属性会创建新的层叠上下文。当元素祖先的 "),n("code",[t._v("transform")]),t._v(", "),n("code",[t._v("perspective")]),t._v(" 或 "),n("code",[t._v("filter")]),t._v(" 属性非 "),n("code",[t._v("none")]),t._v(" 时，容器由视口改为该祖先。")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-5-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-5-日"}},[t._v("#")]),t._v(" 2021 年 11 月 5 日")]),t._v(" "),n("h3",{attrs:{id:"对象动态赋值-ts-写法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对象动态赋值-ts-写法"}},[t._v("#")]),t._v(" 对象动态赋值 ts 写法")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("  searchData"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ISearchData "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("propName"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("searchData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("someAttr "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" keyof ISearchData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" someValue "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" any\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-6-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-6-日"}},[t._v("#")]),t._v(" 2021 年 11 月 6 日")]),t._v(" "),n("p",[t._v("缺席...")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-7-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-7-日"}},[t._v("#")]),t._v(" 2021 年 11 月 7 日")]),t._v(" "),n("p",[t._v("缺席...")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-8-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-8-日"}},[t._v("#")]),t._v(" 2021 年 11 月 8 日")]),t._v(" "),n("h3",{attrs:{id:"首屏时间优化-视频"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#首屏时间优化-视频"}},[t._v("#")]),t._v(" 首屏时间优化--视频")]),t._v(" "),n("p",[t._v("技术要点：")]),t._v(" "),n("ul",[n("li",[t._v("视频资源压缩（小丸工具箱，可移除音频）")]),t._v(" "),n("li",[t._v("视频资源格式转换为 "),n("code",[t._v("flv")]),t._v(" 格式（借助 "),n("code",[t._v("B")]),t._v(" 站开源的 "),n("code",[t._v("flv.js")]),t._v("）")]),t._v(" "),n("li",[t._v("其他非首屏资源延后加载")])]),t._v(" "),n("p",[t._v("完整文档："),n("a",{attrs:{href:"https://segmentfault.com/a/1190000021578572",target:"_blank",rel:"noopener noreferrer"}},[t._v("首屏视频的优化过程 🚀"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"首屏时间-白屏时间"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#首屏时间-白屏时间"}},[t._v("#")]),t._v(" 首屏时间&白屏时间")]),t._v(" "),n("ul",[n("li",[n("p",[n("strong",[t._v("白屏时间")]),t._v("：从页面打开到出现内容时的时间。浏览器只有加载并解析完头部资源才会真正渲染页面，因此可以通过获取头部资源加载完的时刻来近似（粗略）统计白屏时间")])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("首屏时间")]),t._v("：首屏时间需要考虑各种情况如：图片、"),n("code",[t._v("iframe")]),t._v("、"),n("code",[t._v("video")]),t._v(" 等。仅文本时，首屏时间即为 "),n("code",[t._v("DOMContentLoaded")]),t._v(" 时间")])])]),t._v(" "),n("h4",{attrs:{id:"performance-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#performance-api"}},[t._v("#")]),t._v(" performance API")]),t._v(" "),n("p",[t._v("重点关注 "),n("code",[t._v("performance API")]),t._v("，其中包含有："),n("code",[t._v("memory")]),t._v("、"),n("code",[t._v("navigation")]),t._v("、"),n("code",[t._v("timeOrigin")]),t._v("、"),n("code",[t._v("timing")]),t._v(" 四个属性。几乎都可以从这个 "),n("code",[t._v("API")]),t._v(" 中拿到相关数值")]),t._v(" "),n("p",[t._v("分享个网上搜罗的好东西：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 出处：https://juejin.cn/post/6928739992986615816")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" timing "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" performance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timing\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"准备新页面时间耗时: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetchStart "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redirect 重定向耗时: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redirectEnd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redirectStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Appcache 耗时: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domainLookupStart "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetchStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unload 前文档耗时: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unloadEventEnd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unloadEventStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DNS 查询耗时: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domainLookupEnd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domainLookupStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TCP连接耗时: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connectEnd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connectStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request请求耗时: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseEnd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("requestStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"白屏时间: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseStart "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求完毕至DOM加载: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domInteractive "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseEnd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"解释dom树耗时: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domComplete "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domInteractive"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"从开始至load总耗时: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loadEventEnd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("另外，获取首屏时间可以用 "),n("code",[t._v("performance.getEntries()")]),t._v(" 获取 "),n("code",[t._v("first-contentful-paint")]),t._v(" 的时间")]),t._v(" "),n("h4",{attrs:{id:"手打-网参-代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#手打-网参-代码"}},[t._v("#")]),t._v(" 手打（网参）代码")]),t._v(" "),n("p",[t._v("白屏时间：")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 代码来源：https://fex.baidu.com/blog/2014/05/build-performance-monitor-in-7-days/ --\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//测试时间起点，实际统计起点为 DNS 查询，即navigationStart时间")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" start_time "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 3s 后这个 js 才会返回 --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("script.php"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" end_time "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//时间终点")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" headtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" end_time "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" start_time "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//头部资源加载时间")]),t._v("\n      console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("headtime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("在头部资源加载完之前页面将是白屏"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("script.php 被模拟设置 3s 后返回，head 底部内嵌 JS 等待前面 js 返回后才执行"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("script.php 替换成一个执行长时间循环的 js 效果也一样"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("首屏时间：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自己用的谷歌，没有那么严谨，不能直接用navigationStart作为开始时间哈")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里应该在head标签开始时插入一个获取时间戳的代码")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" max "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" imgs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Array"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"img"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取所有的图片资源")]),t._v("\nimgs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("tag")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  tag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听每一个图片的onload事件")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("imgLoad")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("imgLoad")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// name没啥用，测试的时候拿来当名字用了")]),t._v("\n  target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataset"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("time "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"加载时间："')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" performance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" io "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("entries")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("entries"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("intersectionRatio "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 过滤非首屏的图片")]),t._v("\n      max "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    io"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("unobserve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  io"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),t._v(" "),n("p",[t._v("疑问：")]),t._v(" "),n("ul",[n("li",[t._v("video 视频是否会影响到首屏时间？")])]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-9-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-9-日"}},[t._v("#")]),t._v(" 2021 年 11 月 9 日")]),t._v(" "),n("h3",{attrs:{id:"telepot"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#telepot"}},[t._v("#")]),t._v(" telepot")]),t._v(" "),n("p",[t._v("控制某个 "),n("code",[t._v("HTML")]),t._v(" 模块（组件）挂载到指定的 "),n("code",[t._v("DOM")]),t._v(" 下。使用方式如下，也可以通过 "),n("code",[t._v("id")]),t._v(" 指定挂载的 "),n("code",[t._v("DOM")]),t._v("（"),n("code",[t._v('to="#target"')]),t._v("）。但需要注意，挂载的位置不会影响到原先的父子结构，即不会影响父组件的数据注入")]),t._v(" "),n("p",[t._v("如果有多个 "),n("code",[t._v("teleport")]),t._v(" 挂载到同一个目标下，"),n("code",[t._v("teleport")]),t._v(" 将会按照先后顺序插入到目标 "),n("code",[t._v("DOM")]),t._v(" 下（感觉层级比较乱或出现问题的情况下会用的比较多吧，另外其实跟 "),n("code",[t._v("element ui")]),t._v(" 的 "),n("code",[t._v("modal-append-to-body")]),t._v(" 的效果差不多，不过 "),n("code",[t._v("teleport")]),t._v(" 可以指定挂载的 "),n("code",[t._v("DOM")]),t._v("）")]),t._v(" "),n("div",{staticClass:"language-HTML extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("teleport")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("teleport"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("teleport")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-10-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-10-日"}},[t._v("#")]),t._v(" 2021 年 11 月 10 日")]),t._v(" "),n("h3",{attrs:{id:"全局引入方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全局引入方式"}},[t._v("#")]),t._v(" 全局引入方式")]),t._v(" "),n("h4",{attrs:{id:"全局变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全局变量"}},[t._v("#")]),t._v(" 全局变量")]),t._v(" "),n("p",[n("code",[t._v("vue3")]),t._v(" 中 "),n("code",[t._v("vue.property")]),t._v(" 已被替换成 "),n("code",[t._v("config.globalProperties")]),t._v("。由于 "),n("code",[t._v("composition API")]),t._v(" 中的 "),n("code",[t._v("this")]),t._v(" 已经不是我们 "),n("code",[t._v("vue2")]),t._v(" 中认识的 "),n("code",[t._v("this")]),t._v("，因此我们需要通过 "),n("code",[t._v("getCurrentInstance()")]),t._v(" 方法来获取到当前实例")]),t._v(" "),n("p",[t._v("此时访问全局变量的方式则变成：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalProperties"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$http")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// home.vue")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" $http "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentInstance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("appContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalProperties\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("p",[t._v("尽管作为 "),n("code",[t._v("vue.property")]),t._v(" 的一种替代方案，但 "),n("code",[t._v("vue3")]),t._v(" 官方文档仍建议用 "),n("code",[t._v("provide")]),t._v(" 替代 "),n("code",[t._v("globalProperties")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("provide")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'guide'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Vue 3 Guide'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// home.vue")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("inject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'guide'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Warning：inject() can only be used inside setup() or functional components.")]),t._v("\n")])])]),n("h4",{attrs:{id:"指令、组件、插件等"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#指令、组件、插件等"}},[t._v("#")]),t._v(" 指令、组件、插件等")]),t._v(" "),n("p",[t._v("这里以 component 组件为例（其他类似）")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /testComp/index.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// install方法同vue2")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" comp "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./index.vue"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("install")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("app")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testComp"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" comp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要use一下")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" testComp "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./components/testComp"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("App"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testComp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-11-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-11-日"}},[t._v("#")]),t._v(" 2021 年 11 月 11 日")]),t._v(" "),n("h3",{attrs:{id:"我想不到系列之-图片的优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#我想不到系列之-图片的优化"}},[t._v("#")]),t._v(" 我想不到系列之 -- 图片的优化")]),t._v(" "),n("p",[t._v("给图片加上 width、height 属性有利于 CLS（Cumulative Layout Shift 累积布局偏移）优化，通俗一点来说就是可以减少页面的重绘和回流")]),t._v(" "),n("p",[t._v("为什么可以减少页面重绘和回流？在设置了 width、height 属性之后，浏览器会根据图像的宽高属性设置图像的默认宽高比，因此开发者只要设置了宽高其中一个的数值时，浏览器便能计算出另外一个的数值")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 注意是不带单位的width、height值 --\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx.png"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("300"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("150"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 在谷歌img会多了这么一个默认属性： */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("img[Attributes Style]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 313px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("aspect-ratio")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" auto 313 / 428"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 428px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("参考文档："),n("a",{attrs:{href:"https://web.dev/optimize-cls/?utm_source=lighthouse&utm_medium=devtools#images-without-dimensions",target:"_blank",rel:"noopener noreferrer"}},[t._v("优化 Cumulative Layout Shift 累积布局偏移 🚀"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-12-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-12-日"}},[t._v("#")]),t._v(" 2021 年 11 月 12 日")]),t._v(" "),n("h3",{attrs:{id:"event-bus"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#event-bus"}},[t._v("#")]),t._v(" Event Bus")]),t._v(" "),n("p",[n("code",[t._v("vue3")]),t._v(" 中已废除 "),n("code",[t._v("$on")]),t._v("、"),n("code",[t._v("$off")]),t._v("、"),n("code",[t._v("$once")]),t._v(" 实例方法，不能再像 "),n("code",[t._v("vue2")]),t._v(" 一样使用。但 "),n("code",[t._v("vue3")]),t._v(" 也提供了替换的方法："),n("a",{attrs:{href:"https://github.com/developit/mitt",target:"_blank",rel:"noopener noreferrer"}},[t._v("mitt"),n("OutboundLink")],1),t._v("、"),n("a",{attrs:{href:"https://github.com/scottcorgan/tiny-emitter",target:"_blank",rel:"noopener noreferrer"}},[t._v("tiny-emitter"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("建议少用...")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// tiny-emitter使用如下：")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Emitter "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tiny-emitter"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" emitter "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Emitter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 绑定为全局可用或provide全局注入")]),t._v("\napp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalProperties"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("emitter "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" emitter\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发与监听事件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// emitter.on('some-event', function (arg1, arg2, arg3) {})")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// emitter.emit('some-event', 'arg1 value', 'arg2 value', 'arg3 value')")]),t._v("\n")])])]),n("h3",{attrs:{id:"attrs、-listeners"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#attrs、-listeners"}},[t._v("#")]),t._v(" $attrs、$listeners")]),t._v(" "),n("p",[n("code",[t._v("vue3")]),t._v(" 中已经废除了 "),n("code",[t._v("$listeners")]),t._v("，在 "),n("code",[t._v("vue3")]),t._v(" 的虚拟 "),n("code",[t._v("DOM")]),t._v(" 中，事件监听器现在只是以 "),n("code",[t._v("on")]),t._v(" 为前缀的 "),n("code",[t._v("attribute")]),t._v("，这样它就成为了 "),n("code",[t._v("$attrs")]),t._v(" 对象的一部分，且可以通过 context.attrs[target] 访问")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-bind")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$attrs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("label")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-13-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-13-日"}},[t._v("#")]),t._v(" 2021 年 11 月 13 日")]),t._v(" "),n("h3",{attrs:{id:"keep-alive"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#keep-alive"}},[t._v("#")]),t._v(" keep-alive")]),t._v(" "),n("p",[n("code",[t._v("vue")]),t._v(" 缓存组件选项，常用于 "),n("code",[t._v("router-view")]),t._v(" 或动态组件")]),t._v(" "),n("div",{staticClass:"language-Vue extra-class"},[n("pre",{pre:!0,attrs:{class:"language-vue"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("keep-alive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-view")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("keep-alive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[n("code",[t._v("keep-alive")]),t._v(" 还支持以下几个参数：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("include")]),t._v(" - 字符串或正则表达式，只有名称匹配的组件会被缓存")]),t._v(" "),n("li",[n("code",[t._v("exclude")]),t._v(" - 字符串或正则表达式，任何名称匹配的组件都不会被缓存")]),t._v(" "),n("li",[n("code",[t._v("max")]),t._v(" - 数字，最多可以缓存多少组件实例")])]),t._v(" "),n("p",[n("code",[t._v("include/exclude")]),t._v(" 匹配首先检查组件自身的 "),n("code",[t._v("name")]),t._v(" 选项，如果 "),n("code",[t._v("name")]),t._v(" 选项不可用，则匹配它的局部注册名称 (父组件 "),n("code",[t._v("components")]),t._v(" 选项的键值)。匿名组件不能被匹配")]),t._v(" "),n("p",[t._v("Tips："),n("code",[t._v("name")]),t._v(" 对大小写敏感")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-14-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-14-日"}},[t._v("#")]),t._v(" 2021 年 11 月 14 日")]),t._v(" "),n("h3",{attrs:{id:"vuex-commit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vuex-commit"}},[t._v("#")]),t._v(" vuex-commit")]),t._v(" "),n("p",[t._v("提交 "),n("code",[t._v("mutation")]),t._v(" 方法："),n("code",[t._v("commit(type: string, payload?: any, options?: Object)")]),t._v("，有三个可选参数：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("type")]),t._v("：事件类型，即提交的 "),n("code",[t._v("mutation")]),t._v(" 类型")]),t._v(" "),n("li",[n("code",[t._v("payload")]),t._v("：载荷，也就是需要传递的参数")]),t._v(" "),n("li",[n("code",[t._v("options")]),t._v("：包含一个选项："),n("code",[t._v("root: true")]),t._v("，它允许在命名空间模块里提交根的 "),n("code",[t._v("mutation")])])]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-15-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-15-日"}},[t._v("#")]),t._v(" 2021 年 11 月 15 日")]),t._v(" "),n("p",[t._v("缺席...")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-16-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-16-日"}},[t._v("#")]),t._v(" 2021 年 11 月 16 日")]),t._v(" "),n("p",[t._v("缺席...")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-17-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-17-日"}},[t._v("#")]),t._v(" 2021 年 11 月 17 日")]),t._v(" "),n("p",[t._v("缺席...")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-18-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-18-日"}},[t._v("#")]),t._v(" 2021 年 11 月 18 日")]),t._v(" "),n("h3",{attrs:{id:"fs-stat-path-options-callback"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fs-stat-path-options-callback"}},[t._v("#")]),t._v(" fs.stat(path[, options], callback)")]),t._v(" "),n("p",[t._v("获取指定路径的统计信息")]),t._v(" "),n("p",[n("code",[t._v("callback")]),t._v(" 包含两个参数 "),n("code",[t._v("err")]),t._v("、"),n("code",[t._v("stats")]),t._v("，"),n("code",[t._v("stats")]),t._v(" 即为统计信息，可以通过 "),n("code",[t._v("stats.isDirectory()")]),t._v(" 判断是否为文件夹")]),t._v(" "),n("p",[t._v("不推荐在调用 "),n("code",[t._v("fs.open()")]),t._v("、"),n("code",[t._v("fs.readFile()")]),t._v(" 或 "),n("code",[t._v("fs.writeFile()")]),t._v(" 之前使用 "),n("code",[t._v("fs.stat()")]),t._v(" 检查文件是否存在。 而是用户代码应该直接打开/读取/写入文件，并在文件不可用时处理引发的错误。")]),t._v(" "),n("p",[t._v("要检查文件是否存在而不对其进行操作，建议使用 "),n("code",[t._v("fs.access()")]),t._v("。")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-19-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-19-日"}},[t._v("#")]),t._v(" 2021 年 11 月 19 日")]),t._v(" "),n("p",[t._v("缺席...")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-20-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-20-日"}},[t._v("#")]),t._v(" 2021 年 11 月 20 日")]),t._v(" "),n("p",[t._v("缺席...")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-21-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-21-日"}},[t._v("#")]),t._v(" 2021 年 11 月 21 日")]),t._v(" "),n("h3",{attrs:{id:"获取依赖的版本号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取依赖的版本号"}},[t._v("#")]),t._v(" 获取依赖的版本号")]),t._v(" "),n("p",[t._v("通过 "),n("code",[t._v("package.json")]),t._v(" 拿到版本号。一行代码搞定~")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" version "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"axios/package.json"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("version\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-22-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-22-日"}},[t._v("#")]),t._v(" 2021 年 11 月 22 日")]),t._v(" "),n("h3",{attrs:{id:"vue-element-admin-在线换肤功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-element-admin-在线换肤功能"}},[t._v("#")]),t._v(" vue-element-admin 在线换肤功能")]),t._v(" "),n("p",[t._v("主要逻辑为：获取当前 "),n("code",[t._v("element-ui")]),t._v(" 版本，指定版本下载 "),n("code",[t._v("element-ui")]),t._v(" 的样式文件，获取用户选择的颜色，重新计算各种 "),n("code",[t._v("ThemeCluster")]),t._v("、"),n("code",[t._v("ShadeColor")]),t._v(" 等，利用正则将样式文件中的 "),n("code",[t._v("css")]),t._v(" 替换成计算出来的结果")]),t._v(" "),n("p",[t._v("相关代码如下：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("chalk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果样式文件不存在，则重新获取一份指定版本的css文件")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("https://unpkg.com/element-ui@")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("version"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("/lib/theme-chalk/index.css")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCSSString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chalk"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" chalkHandler "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chalk"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chalk-style"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chalkHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// oldVal 为旧的主题色，默认值为 ORIGINAL_THEME")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" styles "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"style"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("style")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" text "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerText\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RegExp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldVal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"i"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("Chalk Variables")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nstyles"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("style")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" innerText "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" style\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" innerText "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n  style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerText "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateStyle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("innerText"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" originalCluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" themeCluster"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-23-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-23-日"}},[t._v("#")]),t._v(" 2021 年 11 月 23 日")]),t._v(" "),n("h3",{attrs:{id:"禁止-input-自动补全"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#禁止-input-自动补全"}},[t._v("#")]),t._v(" 禁止 input 自动补全")]),t._v(" "),n("p",[t._v("特别是账号密码输入框，不仅自动补全，还有丑的要命的背景色，看着就想干掉它。")]),t._v(" "),n("p",[t._v("相关方法测试情况：")]),t._v(" "),n("ul",[n("li",[t._v("如果直接使用："),n("code",[t._v('autocomplete="off"')]),t._v("，兼容性也不太 ok （"),n("a",{attrs:{href:"https://caniuse.com/?search=autocomplete",target:"_blank",rel:"noopener noreferrer"}},[t._v("查看兼容性"),n("OutboundLink")],1),t._v("）")]),t._v(" "),n("li",[t._v("针对密码输入框使用："),n("code",[t._v('autocomplete="new-password"')]),t._v("基本可以兼容")]),t._v(" "),n("li",[t._v("新增 "),n("code",[t._v('<input type="password" autocomplete="off" style="position:absolute;top:-9999px;opacity:0" />')]),t._v("，兼容性一半一半，部分浏览器（下表 × 部分）"),n("code",[t._v("input[text]")]),t._v(" 仍然会自动填充")]),t._v(" "),n("li",[t._v("新增 "),n("code",[t._v('<input type="password" autocomplete="new-password" style="position:absolute;top:-9999px;opacity:0" />')]),t._v("基本可以兼容（注意 "),n("code",[t._v("element-ui")]),t._v(" 下需要放在 "),n("code",[t._v("el-form")]),t._v(" 下才会生效）")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th"),t._v(" "),n("th",[t._v("谷歌")]),t._v(" "),n("th",[t._v("火狐")]),t._v(" "),n("th",[t._v("edge")]),t._v(" "),n("th",[t._v("opera")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("autocomplete=off")]),t._v(" "),n("td",[t._v("×")]),t._v(" "),n("td",[t._v("√")]),t._v(" "),n("td",[t._v("×")]),t._v(" "),n("td",[t._v("×")])]),t._v(" "),n("tr",[n("td",[t._v("autocomplete=new-password")]),t._v(" "),n("td",[t._v("√")]),t._v(" "),n("td",[t._v("√")]),t._v(" "),n("td",[t._v("√")]),t._v(" "),n("td",[t._v("√")])]),t._v(" "),n("tr",[n("td",[t._v("新增空白 input[password]")]),t._v(" "),n("td",[t._v("×")]),t._v(" "),n("td",[t._v("√")]),t._v(" "),n("td",[t._v("×")]),t._v(" "),n("td",[t._v("×")])]),t._v(" "),n("tr",[n("td",[t._v("新增空白 input[password] + new-password")]),t._v(" "),n("td",[t._v("√")]),t._v(" "),n("td",[t._v("√")]),t._v(" "),n("td",[t._v("√")]),t._v(" "),n("td",[t._v("√")])])])]),t._v(" "),n("p",[n("code",[t._v("千万别手下留情，淦它")])]),t._v(" "),n("p",[t._v("如果只是想干掉背景色，可以看"),n("a",{attrs:{href:"https://real102.github.io/Blog/ugly/2021.10.html#%E8%BE%93%E5%85%A5%E6%A1%86%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85%E6%A0%B7%E5%BC%8F%E4%BC%98%E5%8C%96-11-23-%E8%A1%A5",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-24-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-24-日"}},[t._v("#")]),t._v(" 2021 年 11 月 24 日")]),t._v(" "),n("h3",{attrs:{id:"内网穿透工具-frp-12-27-补"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内网穿透工具-frp-12-27-补"}},[t._v("#")]),t._v(" 内网穿透工具 frp（12.27 补）")]),t._v(" "),n("p",[t._v("需要配置两个端：服务端 "),n("code",[t._v("frps")]),t._v(" 和客户端 "),n("code",[t._v("frpc")]),t._v("。")]),t._v(" "),n("p",[t._v("服务端 "),n("code",[t._v("frps")]),t._v(" 通常部署在具有公网 "),n("code",[t._v("IP")]),t._v(" 的机器上（云服务器），客户端则部署在需要穿透的机器上。映射的是本地 "),n("code",[t._v("localhost")]),t._v("。用户通过访问服务端 "),n("code",[t._v("frps")]),t._v("，由 "),n("code",[t._v("frp")]),t._v(" 根据端口转发到对应的内网机器，从而实现通信")]),t._v(" "),n("p",[t._v("文档地址："),n("a",{attrs:{href:"https://gofrp.org/docs/examples/ssh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gofrp.org/docs/examples/ssh/"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("其他穿透工具："),n("code",[t._v("NATAPP")]),t._v("。")]),t._v(" "),n("p",[t._v("两者相比较下，"),n("code",[t._v("frp")]),t._v(" 的优势在于可以自定义转发的端口，而 "),n("code",[t._v("NATAPP")]),t._v(" 则是自动生成 "),n("code",[t._v("IP")]),t._v(" + 端口，并且有并行连接数上限（好像是 "),n("code",[t._v("5")]),t._v(" 个）")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-25-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-25-日"}},[t._v("#")]),t._v(" 2021 年 11 月 25 日")]),t._v(" "),n("h3",{attrs:{id:"splitchunks-小-tips"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#splitchunks-小-tips"}},[t._v("#")]),t._v(" splitChunks 小 tips")]),t._v(" "),n("p",[t._v("在提取公共 chunk 时，主要利用的就是一下的两个配置项：")]),t._v(" "),n("p",[n("code",[t._v("minChunks")]),t._v("：包的最小引用次数"),n("br"),t._v(" "),n("code",[t._v("minSize")]),t._v("：包的最小体积")]),t._v(" "),n("p",[n("s",[t._v("但实际上模块只有同时满足以上两个条件才会被提取到一个单独的 "),n("code",[t._v("chunk")]),t._v(" 中去")]),n("br"),t._v("\n切割代码块与否跟 "),n("code",[t._v("chunks")]),t._v(" 配置有关")]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-26-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-26-日"}},[t._v("#")]),t._v(" 2021 年 11 月 26 日")]),t._v(" "),n("h3",{attrs:{id:"provide-this-1-月-2-日补"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#provide-this-1-月-2-日补"}},[t._v("#")]),t._v(" provide this（1 月 2 日补）")]),t._v(" "),n("p",[t._v("源自 "),n("code",[t._v("element-ui")]),t._v(" 的代码："),n("code",[t._v("ElBreadcrumb")]),t._v("，将父组件的 "),n("code",[t._v("this")]),t._v(" 通过 "),n("code",[t._v("provide")]),t._v(" 注入到子孙组件，子孙组件再通过该 "),n("code",[t._v("this")]),t._v(" 获取父组件的内容")]),t._v(" "),n("p",[t._v("疑问：不可以通过 "),n("code",[t._v("this.$parent")]),t._v(" 来访问父组件吗？")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("provide")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    elBreadcrumb"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("inject"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'elBreadcrumb'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("separator "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elBreadcrumb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("separator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("separatorClass "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elBreadcrumb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("separatorClass"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-27-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-27-日"}},[t._v("#")]),t._v(" 2021 年 11 月 27 日")]),t._v(" "),n("h3",{attrs:{id:"network-timing-面板-1-6-补"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#network-timing-面板-1-6-补"}},[t._v("#")]),t._v(" Network - Timing 面板（1.6 补）")]),t._v(" "),n("p",[t._v("浏览器开发者工具的网络面板，点击任意一个网络请求，可以在右侧看到 "),n("code",[t._v("Timing")]),t._v(" 时序面板，以下为时序面板各项的描述")]),t._v(" "),n("p",[n("img",{attrs:{src:s(377),alt:"Timing",title:"Timing"}})]),t._v(" "),n("ul",[n("li",[n("code",[t._v("Queueing")]),t._v("：浏览器在以下情况下对请求进行排队：更高优先级请求；已为此源打开六个 "),n("code",[t._v("TCP")]),t._v(" 连接（仅适用于 "),n("code",[t._v("HTTP/1.0")]),t._v(" 和 "),n("code",[t._v("HTTP/1.1")]),t._v("）；浏览器在磁盘缓存中短暂分配空间")]),t._v(" "),n("li",[n("code",[t._v("Stalled")]),t._v("：请求可能因排队中描述的任何原因而停止。")]),t._v(" "),n("li",[n("code",[t._v("DNS Lookup")]),t._v("：浏览器正在解析请求的 "),n("code",[t._v("IP")]),t._v(" 地址。")]),t._v(" "),n("li",[n("code",[t._v("Initial connection")]),t._v("：浏览器正在建立连接，包括 "),n("code",[t._v("TCP")]),t._v(" 握手/重试和协商 "),n("code",[t._v("SSL")]),t._v("。")]),t._v(" "),n("li",[n("code",[t._v("Proxy negotiation")]),t._v("：浏览器正在与代理服务器协商请求。")]),t._v(" "),n("li",[n("code",[t._v("Request sent")]),t._v("：正在发送请求。")]),t._v(" "),n("li",[n("code",[t._v("ServiceWorker Preparation")]),t._v("：浏览器正在启动 "),n("code",[t._v("Service Worker")]),t._v("。")]),t._v(" "),n("li",[n("code",[t._v("Request to ServiceWorker")]),t._v("：请求正在发送给服务工作者。")]),t._v(" "),n("li",[n("code",[t._v("Waiting (TTFB - Time To First Byte)")]),t._v("：浏览器正在等待响应的第一个字节。此时间包括 "),n("code",[t._v("1")]),t._v(" 次往返延迟和服务器准备响应所用的时间。")]),t._v(" "),n("li",[n("code",[t._v("Content Download")]),t._v("：浏览器直接从网络或 "),n("code",[t._v("Service Worker")]),t._v(" 接收响应。该值是阅读响应正文所花费的总时间。大于预期的值可能表示网络速度较慢，或者浏览器正忙于执行其他工作，从而延迟了响应的读取。")]),t._v(" "),n("li",[n("code",[t._v("Receiving Push")]),t._v("：浏览器正在通过 "),n("code",[t._v("HTTP/2")]),t._v(" 服务器推送接收此响应的数据。")]),t._v(" "),n("li",[n("code",[t._v("Reading Push")]),t._v("：浏览器正在读取之前接收到的本地数据。")])]),t._v(" "),n("p",[t._v("文档地址："),n("a",{attrs:{href:"https://developer.chrome.com/docs/devtools/network/reference/#timing-explanation",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developer.chrome.com/docs/devtools/network/reference/#timing-explanation"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-28-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-28-日"}},[t._v("#")]),t._v(" 2021 年 11 月 28 日")]),t._v(" "),n("h3",{attrs:{id:"inline"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inline"}},[t._v("#")]),t._v(" inline")]),t._v(" "),n("p",[t._v("认识一下 "),n("code",[t._v("inline")]),t._v(" 的庐山真面目")]),t._v(" "),n("p",[t._v("如果给 "),n("code",[t._v("HTML")]),t._v(" 标签增加 "),n("code",[t._v("display: inline")]),t._v(" 属性，会发现块级标签变成了行内标签，而行内标签则保持原样，并且都 “失去” 了宽和高，似乎变成了真正的行内标签。这种情况会出现在除了 "),n("code",[t._v("img")]),t._v("、"),n("code",[t._v("video")]),t._v(" 外的其他标签（暂时知道的，可能会有其他）")]),t._v(" "),n("p",[n("code",[t._v("display: inline")]),t._v(" 还会受到 "),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/vertical-align",target:"_blank",rel:"noopener noreferrer"}},[t._v("vertical-align 🚀"),n("OutboundLink")],1),t._v(" 的影响（内联元素的对齐方式由属性 "),n("code",[t._v("vertical-align")]),t._v(" 决定），默认会以 "),n("code",[t._v("baseline")]),t._v("（父元素基线）展示。当父元素有一定高度，并且包含图片和文字两种形式的时候，会发现两者是没有对齐的，也就是 "),n("code",[t._v("vertical-align")]),t._v(" 的默认值导致，因此需要自己手动来调整")]),t._v(" "),n("p",[t._v("因此，在使用 "),n("code",[t._v("inline")]),t._v(" 属性的时候需要多加小心，避免踩雷：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("inline")]),t._v(" 属性会导致宽高失效")]),t._v(" "),n("li",[n("code",[t._v("inline")]),t._v(" 属性会受到 "),n("code",[t._v("vertical-align：baseline")]),t._v(" 的影响")]),t._v(" "),n("li",[t._v("注意文本是否已经对齐")])]),t._v(" "),n("h3",{attrs:{id:"inline-block"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inline-block"}},[t._v("#")]),t._v(" inline-block")]),t._v(" "),n("p",[t._v("认识一下 "),n("code",[t._v("inline-block")]),t._v(" 黑纱下的面容")]),t._v(" "),n("p",[t._v("现有以下这么一个 "),n("code",[t._v("HTML")]),t._v(" 结构，如果给所有 "),n("code",[t._v("span")]),t._v(" 标签加上 "),n("code",[t._v("inline-block")]),t._v(" 属性后，应该都知道会出现这样的情况："),n("code",[t._v("span")]),t._v(" 都排列在一行，并且每个 "),n("code",[t._v("span")]),t._v(" 之间有个间隔")]),t._v(" "),n("p",[t._v("这是由"),n("strong",[t._v("空白符")]),t._v("导致，比如：空格(U+0020)、制表符(U+0009)、换行(U+000A)、回车(U+000D)、换页(U+000C)等在文档中，产生的表现形式即为空白符")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("111"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("222"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("333"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("444"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("555"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("展现效果如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:s(378),alt:"inline-block",title:"inline-block"}})]),t._v(" "),n("p",[t._v("常见的解决方案有：")]),t._v(" "),n("ol",[n("li",[t._v("设置父元素的 "),n("code",[t._v("font-size")]),t._v(" 为 "),n("code",[t._v("0")]),t._v("，可以达到消除间隙的效果，但需要对每一个内联元素设置 "),n("code",[t._v("font-size")])]),t._v(" "),n("li",[t._v("消除内联标签之间的换行符、空格符等（但代码会变得很不美观，不太建议...）")]),t._v(" "),n("li",[t._v("其他使用 letter-spacing 或 word-spacing 的感觉不太 ok")])]),t._v(" "),n("p",[t._v("参考文档地址："),n("a",{attrs:{href:"https://github.com/XXHolic/blog/issues/13",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/XXHolic/blog/issues/13 🚀"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"_2021-年-11-月-29-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-29-日"}},[t._v("#")]),t._v(" 2021 年 11 月 29 日")]),t._v(" "),n("h3",{attrs:{id:"认识高阶函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#认识高阶函数"}},[t._v("#")]),t._v(" 认识高阶函数")]),t._v(" "),n("p",[n("code",[t._v("高阶函数")]),t._v("：是一个接收函数作为参数或将函数作为输出返回的函数。")]),t._v(" "),n("p",[t._v("通俗一点就是，将函数当输入或输出的函数...")]),t._v(" "),n("p",[t._v("可能听起来还是有点绕，不过平时我们也肯定或多或少用过高阶函数：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("Array.prototype.map")])]),t._v(" "),n("li",[n("code",[t._v("Array.prototype.filter")])]),t._v(" "),n("li",[n("code",[t._v("Array.prototype.reduce")])])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" array1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("reducer")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("previousValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" currentValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" previousValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" currentValue\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("array1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// expected output: 10")]),t._v("\n")])])]),n("h2",{attrs:{id:"_2021-年-11-月-30-日"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2021-年-11-月-30-日"}},[t._v("#")]),t._v(" 2021 年 11 月 30 日")]),t._v(" "),n("h3",{attrs:{id:"变量提升"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#变量提升"}},[t._v("#")]),t._v(" 变量提升")]),t._v(" "),n("p",[n("code",[t._v("ES6")]),t._v(" 新增了 "),n("code",[t._v("let")]),t._v(" 和 "),n("code",[t._v("const")]),t._v(" 命令，加上 "),n("code",[t._v("var")]),t._v(" 总共三种定义变量的方式")]),t._v(" "),n("p",[t._v("其中 "),n("code",[t._v("var")]),t._v(" 存在变量提升，也就是在定义变量前可以访问，且值为 "),n("code",[t._v("undefined")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" str "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// string")]),t._v("\n")])])]),n("p",[t._v("而对于 "),n("code",[t._v("let")]),t._v(" 和 "),n("code",[t._v("const")]),t._v(" 命令，则没有变量提升。在定义变量前访问该变量会直接报错")]),t._v(" "),n("blockquote",[n("p",[n("code",[t._v("ES6")]),t._v(" 明确规定，如果区块中存在 "),n("code",[t._v("let")]),t._v(" 和 "),n("code",[t._v("const")]),t._v(" 命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。")])]),t._v(" "),n("p",[t._v("函数也有变量提升，并且"),n("strong",[t._v("优先级是高于变量")]),t._v("。但需要注意函数不同的定义方式也会有区别")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("getName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// ƒ getName() { console.log("getName") }')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getName"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("getAge"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对象字面量方式定义函数，会将getAge先提升，初始化为undefined，")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 然后再执行function的赋值操作。所以这种函数的提升不会在最前面")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getAge")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getAge"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);